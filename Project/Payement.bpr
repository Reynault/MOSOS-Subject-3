<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<org.eventb.core.prFile version="1">
<org.eventb.core.prProof name="inv10/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="x" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4" org.eventb.core.prSets="CardIds,Reservations,Rooms">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p6"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p7"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p9"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p11"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p12"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p14"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p16"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p18"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p20"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22,p23,p24"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p32">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p26"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p27"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p32" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p34">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p34" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p35">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees x)" org.eventb.core.prGoal="p35" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p36">
<org.eventb.core.prIdent name="x" org.eventb.core.type="Reservations"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with serviceRooms={restaurant,swimmingPool}" org.eventb.core.prHyps="p7">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p37" org.eventb.core.prInfHyps="p38"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with customers={roger,bob,john,doe}" org.eventb.core.prHyps="p12">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p39" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p41" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p39,p41"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p43">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="p3"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p44">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees x)" org.eventb.core.prGoal="p44" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p45">
<org.eventb.core.prIdent name="x" org.eventb.core.type="Reservations"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with serviceRooms={restaurant,swimmingPool}" org.eventb.core.prHyps="p7">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p37" org.eventb.core.prInfHyps="p38"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with customers={roger,bob,john,doe}" org.eventb.core.prHyps="p12">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p39" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p41" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p39,p41"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="*" org.eventb.core.prGoal="p46">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p46" org.eventb.core.prHyps="p4"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="cleaners⊆CardIds">
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬unlocked=alwaysUnlocked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="ending∈Reservations ⇸ ℤ"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})">
<org.eventb.core.prIdent name="Bills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀x⦂Reservations·x∈dom(ending)"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="cleaners={michel}">
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀x⦂Reservations·x∈Reservations⇒x∈dom(beginning)∧beginning∈Reservations ⇸ ℤ∧x∈dom(ending)∧ending∈Reservations ⇸ ℤ"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}">
<org.eventb.core.prIdent name="Services" org.eventb.core.type="ℙ(Services)"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}">
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="x∈dom(ending)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="Reservations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="bedRooms⊆Rooms">
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="beginning∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬alwaysUnlocked=locked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="officers={rosalind}">
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="x∈dom(beginning)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="Reservations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="getCards∈Reservations ⇸ customers">
<org.eventb.core.prIdent name="getCards" org.eventb.core.type="ℙ(Reservations×CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="(∀x⦂Reservations·x∈dom(beginning))∧beginning∈Reservations ⇸ ℤ∧(∀x⦂Reservations·x∈dom(ending))∧ending∈Reservations ⇸ ℤ"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀x⦂Reservations·⊤⇒x∈dom(beginning)∧beginning∈Reservations ⇸ ℤ∧x∈dom(ending)∧ending∈Reservations ⇸ ℤ"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="ending∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}">
<org.eventb.core.prIdent name="Bills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="officers⊆CardIds">
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="reservedServices∈Reservations ⇸ ℙ(serviceRooms)">
<org.eventb.core.prIdent name="reservedServices" org.eventb.core.type="ℙ(Reservations×ℙ(Rooms))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="getCards∈Reservations ⇸ {roger,bob,john,doe}">
<org.eventb.core.prIdent name="getCards" org.eventb.core.type="ℙ(Reservations×CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(cleaners,{michel})">
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="reservation∈{roger,bob,john,doe} ⇸ Reservations">
<org.eventb.core.prIdent name="reservation" org.eventb.core.type="ℙ(CardIds×Reservations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})">
<org.eventb.core.prIdent name="Services" org.eventb.core.type="ℙ(Services)"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="reservation∈customers ⇸ Reservations">
<org.eventb.core.prIdent name="reservation" org.eventb.core.type="ℙ(CardIds×Reservations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬locked=unlocked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})">
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀x⦂Reservations·x∈dom(beginning)"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="reservedServices∈Reservations ⇸ ℙ({restaurant,swimmingPool})">
<org.eventb.core.prIdent name="reservedServices" org.eventb.core.type="ℙ(Reservations×ℙ(Rooms))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="beginning∈Reservations ⇸ ℤ"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="partition(officers,{rosalind})">
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="inv11/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="x" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3" org.eventb.core.prSets="CardIds,Rooms">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p5"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p6"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p8"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p10"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p11"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p13"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p15"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p17"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p19"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21,p22,p23"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p33">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p24"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p26"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p27"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p33" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p36">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p36" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p37">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees x)" org.eventb.core.prGoal="p37" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p38">
<org.eventb.core.prIdent name="x" org.eventb.core.type="Rooms"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with serviceRooms={restaurant,swimmingPool}" org.eventb.core.prHyps="p6">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p39" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p39"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with customers={roger,bob,john,doe}" org.eventb.core.prHyps="p11">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p41" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p43" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p41,p43"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p45">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p45" org.eventb.core.prHyps="p3"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="cleaners⊆CardIds">
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒x∈dom(occupied)∧occupied∈Rooms ⇸ ℙ(CardIds)"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="occupied∈Rooms ⇸ ℙ(CardIds)"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬unlocked=alwaysUnlocked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀x⦂Reservations·x∈Reservations⇒beginning(x)&lt;ending(x)">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})">
<org.eventb.core.prIdent name="Bills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="cleaners={michel}">
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}">
<org.eventb.core.prIdent name="Services" org.eventb.core.type="ℙ(Services)"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀x⦂Rooms·x∈dom(occupied)"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}">
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="bedRooms⊆Rooms">
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬alwaysUnlocked=locked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="officers={rosalind}">
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀x⦂Reservations·beginning(x)&lt;ending(x)">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="getCards∈Reservations ⇸ customers">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="getCards" org.eventb.core.type="ℙ(Reservations×CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}">
<org.eventb.core.prIdent name="Bills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="officers⊆CardIds">
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="reservedServices∈Reservations ⇸ ℙ(serviceRooms)">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="reservedServices" org.eventb.core.type="ℙ(Reservations×ℙ(Rooms))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="getCards∈Reservations ⇸ {roger,bob,john,doe}">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="getCards" org.eventb.core.type="ℙ(Reservations×CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="partition(cleaners,{michel})">
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="reservation∈{roger,bob,john,doe} ⇸ Reservations">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="reservation" org.eventb.core.type="ℙ(CardIds×Reservations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})">
<org.eventb.core.prIdent name="Services" org.eventb.core.type="ℙ(Services)"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="reservation∈customers ⇸ Reservations">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="reservation" org.eventb.core.type="ℙ(CardIds×Reservations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬locked=unlocked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})">
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="occupied∈Rooms ⇸ {CardIds}"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="(∀x⦂Rooms·x∈dom(occupied))∧occupied∈Rooms ⇸ ℙ(CardIds)"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="x∈dom(occupied)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="Rooms"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="reservedServices∈Reservations ⇸ ℙ({restaurant,swimmingPool})">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="reservedServices" org.eventb.core.type="ℙ(Reservations×ℙ(Rooms))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="partition(officers,{rosalind})">
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀x⦂Reservations·⊤⇒beginning(x)&lt;ending(x)">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒x∈dom(occupied)∧occupied∈Rooms ⇸ ℙ(CardIds)"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="inv13/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="x" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5" org.eventb.core.prSets="CardIds,Rooms">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p7"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p8"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p10"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p12"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p13"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p14"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p15"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p17"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p19"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21,p22,p23"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p24"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p26"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p27"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees x)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p38">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p38" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p40" org.eventb.core.prHyps="p39">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p40" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p41">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with serviceRooms={restaurant,swimmingPool}" org.eventb.core.prHyps="p8">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p42" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p42"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with customers={roger,bob,john,doe}" org.eventb.core.prHyps="p13">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p44" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p46" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p37" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p44,p46,p37"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with officers={rosalind}" org.eventb.core.prHyps="p14">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p48" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p48"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with cleaners={michel}" org.eventb.core.prHyps="p15">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p39" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p49" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p39,p49"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p50" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p51" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with x=michel" org.eventb.core.prGoal="p41" org.eventb.core.prHyps="p52">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p54">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="total function dom substitution in goal" org.eventb.core.prGoal="p54" org.eventb.core.prHyps="p4">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p55">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prGoal="p55" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p56">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p56" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
<org.eventb.core.prExprRef name=".subst" org.eventb.core.prRef="e0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p57">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p57" org.eventb.core.prHyps="p4"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="unlock" org.eventb.core.type="ℙ(CardIds×ℙ(Rooms))"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀x⦂CardIds·x∈cleaners⇒x∈dom(unlock)∧unlock∈CardIds ⇸ ℙ(Rooms)"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}">
<org.eventb.core.prIdent name="Services" org.eventb.core.type="ℙ(Services)"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀x⦂Reservations·beginning(x)&lt;ending(x)">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="x∈dom(unlock)∧unlock∈CardIds ⇸ ℙ(Rooms)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="x∈dom(unlock)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="getCards∈Reservations ⇸ customers">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="getCards" org.eventb.core.type="ℙ(Reservations×CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="x∈{michel}">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)">
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}">
<org.eventb.core.prIdent name="Bills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y=michel∨y∈{rosalind}∪{roger,bob,john,doe}">
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="reservation∈{roger,bob,john,doe} ⇸ Reservations">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="reservation" org.eventb.core.type="ℙ(CardIds×Reservations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})">
<org.eventb.core.prIdent name="Services" org.eventb.core.type="ℙ(Services)"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="reservation∈customers ⇸ Reservations">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="reservation" org.eventb.core.type="ℙ(CardIds×Reservations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="x=michel">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="reservedServices∈Reservations ⇸ {{restaurant,swimmingPool},∅ ⦂ ℙ(Rooms)}">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="reservedServices" org.eventb.core.type="ℙ(Reservations×ℙ(Rooms))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀x⦂Reservations·⊤⇒beginning(x)&lt;ending(x)">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="x∈cleaners">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪{roger,bob,john,doe}">
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="michel∈CardIds"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="unlock∈CardIds ⇸ ℙ(Rooms)"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬unlocked=alwaysUnlocked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀x⦂Reservations·x∈Reservations⇒beginning(x)&lt;ending(x)">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})">
<org.eventb.core.prIdent name="Bills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}">
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="bedRooms⊆Rooms">
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬alwaysUnlocked=locked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)">
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈{michel}∨y∈{rosalind}∪{roger,bob,john,doe}">
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="getCards∈Reservations ⇸ {roger,bob,john,doe}">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="getCards" org.eventb.core.type="ℙ(Reservations×CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬locked=unlocked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})">
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers">
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="unlock∈CardIds → ℙ(Rooms)"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈{rosalind}∪{roger,bob,john,doe}">
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="x∈cleaners⇒x∈dom(unlock)∧unlock∈CardIds ⇸ ℙ(Rooms)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="michel∈dom(unlock)"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="reservedServices∈Reservations ⇸ {serviceRooms,∅ ⦂ ℙ(Rooms)}">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="reservedServices" org.eventb.core.type="ℙ(Reservations×ℙ(Rooms))"/>
</org.eventb.core.prPred>
<org.eventb.core.prExpr name="e0" org.eventb.core.expression="CardIds"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.totalDom:2"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="inv14/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="x" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6" org.eventb.core.prSets="CardIds,Rooms">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p8"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p9"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p11"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p13"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p14"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p15"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p16"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p18"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p20"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22,p23,p24"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p26"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p27"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees x)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p39">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p39" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p41" org.eventb.core.prHyps="p40">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p41" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p42">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with serviceRooms={restaurant,swimmingPool}" org.eventb.core.prHyps="p9">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p43" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p43"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with customers={roger,bob,john,doe}" org.eventb.core.prHyps="p14">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p45" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p47" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p38" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p45,p47,p38"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with officers={rosalind}" org.eventb.core.prHyps="p15">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p40" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p49" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p40,p49"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p50" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with cleaners={michel}" org.eventb.core.prHyps="p16">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p5" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p51" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p5,p51"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p53" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p54" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="One Point Rule in ∀x·x=michel⇒unlock(x)=Rooms" org.eventb.core.prHyps="p55">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p55" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with x=rosalind" org.eventb.core.prGoal="p42" org.eventb.core.prHyps="p52">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p58">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="total function dom substitution in goal" org.eventb.core.prGoal="p58" org.eventb.core.prHyps="p4">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p59">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prGoal="p59" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p60">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p60" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
<org.eventb.core.prExprRef name=".subst" org.eventb.core.prRef="e0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p60">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p55"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p60" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p61">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p61" org.eventb.core.prHyps="p4"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="unlock" org.eventb.core.type="ℙ(CardIds×ℙ(Rooms))"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="x=rosalind">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="rosalind∈CardIds"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}">
<org.eventb.core.prIdent name="Services" org.eventb.core.type="ℙ(Services)"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀x⦂Reservations·beginning(x)&lt;ending(x)">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="x∈dom(unlock)∧unlock∈CardIds ⇸ ℙ(Rooms)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="x∈dom(unlock)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="getCards∈Reservations ⇸ customers">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="getCards" org.eventb.core.type="ℙ(Reservations×CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="x∈{rosalind}">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="rosalind∈dom(unlock)"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)">
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}">
<org.eventb.core.prIdent name="Bills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y=michel∨y∈{rosalind}∪{roger,bob,john,doe}">
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="reservation∈{roger,bob,john,doe} ⇸ Reservations">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="reservation" org.eventb.core.type="ℙ(CardIds×Reservations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})">
<org.eventb.core.prIdent name="Services" org.eventb.core.type="ℙ(Services)"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="reservation∈customers ⇸ Reservations">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="reservation" org.eventb.core.type="ℙ(CardIds×Reservations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="reservedServices∈Reservations ⇸ {{restaurant,swimmingPool},∅ ⦂ ℙ(Rooms)}">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="reservedServices" org.eventb.core.type="ℙ(Reservations×ℙ(Rooms))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="x∈officers⇒x∈dom(unlock)∧unlock∈CardIds ⇸ ℙ(Rooms)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀x⦂Reservations·⊤⇒beginning(x)&lt;ending(x)">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪{roger,bob,john,doe}">
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="unlock∈CardIds ⇸ ℙ(Rooms)"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬unlocked=alwaysUnlocked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀x⦂Reservations·x∈Reservations⇒beginning(x)&lt;ending(x)">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})">
<org.eventb.core.prIdent name="Bills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀x⦂CardIds·x∈{michel}⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}">
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀x⦂CardIds·x=michel⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="unlock(michel)=Rooms"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="bedRooms⊆Rooms">
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬alwaysUnlocked=locked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)">
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀x⦂CardIds·x∈officers⇒x∈dom(unlock)∧unlock∈CardIds ⇸ ℙ(Rooms)"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈{michel}∨y∈{rosalind}∪{roger,bob,john,doe}">
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="∀x⦂CardIds·x∈cleaners⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="getCards∈Reservations ⇸ {roger,bob,john,doe}">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="getCards" org.eventb.core.type="ℙ(Reservations×CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬locked=unlocked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})">
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers">
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="unlock∈CardIds → ℙ(Rooms)"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="x∈officers">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈{rosalind}∪{roger,bob,john,doe}">
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="reservedServices∈Reservations ⇸ {serviceRooms,∅ ⦂ ℙ(Rooms)}">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="reservedServices" org.eventb.core.type="ℙ(Reservations×ℙ(Rooms))"/>
</org.eventb.core.prPred>
<org.eventb.core.prExpr name="e0" org.eventb.core.expression="CardIds"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.onePointRule:2"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.totalDom:2"/>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="inv15/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="x" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7" org.eventb.core.prSets="CardIds,Rooms">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p9"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p10"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p12"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p14"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p15"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p16"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p17"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p19"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p21"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23,p24,p25"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p26"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p27"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p30"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p35" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees x)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p40">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p40" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p42" org.eventb.core.prHyps="p41">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p42" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p43">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with serviceRooms={restaurant,swimmingPool}" org.eventb.core.prHyps="p10">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p44" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p44"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with customers={roger,bob,john,doe}" org.eventb.core.prHyps="p15">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p46" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p48" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p39" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p41" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="DESELECT4" org.eventb.core.prHyps="p46,p48,p39,p41"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with officers={rosalind}" org.eventb.core.prHyps="p16">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p2" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p50" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p2,p50"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p52" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="One Point Rule in ∀x·x=rosalind⇒unlock(x)=Rooms" org.eventb.core.prHyps="p54">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p54" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with cleaners={michel}" org.eventb.core.prHyps="p17">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p6" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p53" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p6,p53"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p56" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p57" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="One Point Rule in ∀x·x=michel⇒unlock(x)=Rooms" org.eventb.core.prHyps="p58">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p58" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p60"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="total function dom substitution in goal" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="p5">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p61">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prGoal="p61" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p62">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p62" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
<org.eventb.core.prExprRef name=".subst" org.eventb.core.prRef="e0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p62">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p58"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p62" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p62">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p54"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p62" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p63">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p63" org.eventb.core.prHyps="p5"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="unlock" org.eventb.core.type="ℙ(CardIds×ℙ(Rooms))"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀x⦂CardIds·x∈officers⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="x∈CardIds">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="x∈{roger,bob,john,doe}">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}">
<org.eventb.core.prIdent name="Services" org.eventb.core.type="ℙ(Services)"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="unlock(rosalind)=Rooms"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀x⦂Reservations·beginning(x)&lt;ending(x)">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="x∈dom(unlock)∧unlock∈CardIds ⇸ ℙ(Rooms)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="x∈customers⇒x∈dom(unlock)∧unlock∈CardIds ⇸ ℙ(Rooms)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="x∈dom(unlock)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="getCards∈Reservations ⇸ customers">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="getCards" org.eventb.core.type="ℙ(Reservations×CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀x⦂CardIds·x=rosalind⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)">
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}">
<org.eventb.core.prIdent name="Bills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y=michel∨y∈{rosalind}∪{roger,bob,john,doe}">
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="reservation∈{roger,bob,john,doe} ⇸ Reservations">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="reservation" org.eventb.core.type="ℙ(CardIds×Reservations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})">
<org.eventb.core.prIdent name="Services" org.eventb.core.type="ℙ(Services)"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="reservation∈customers ⇸ Reservations">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="reservation" org.eventb.core.type="ℙ(CardIds×Reservations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="reservedServices∈Reservations ⇸ {{restaurant,swimmingPool},∅ ⦂ ℙ(Rooms)}">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="reservedServices" org.eventb.core.type="ℙ(Reservations×ℙ(Rooms))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀x⦂CardIds·x∈{rosalind}⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀x⦂Reservations·⊤⇒beginning(x)&lt;ending(x)">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀x⦂CardIds·x∈customers⇒x∈dom(unlock)∧unlock∈CardIds ⇸ ℙ(Rooms)"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪{roger,bob,john,doe}">
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="unlock∈CardIds ⇸ ℙ(Rooms)"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬unlocked=alwaysUnlocked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀x⦂Reservations·x∈Reservations⇒beginning(x)&lt;ending(x)">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})">
<org.eventb.core.prIdent name="Bills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀x⦂CardIds·x∈{michel}⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}">
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="∀x⦂CardIds·x=michel⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="unlock(michel)=Rooms"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="bedRooms⊆Rooms">
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬alwaysUnlocked=locked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)">
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈{michel}∨y∈{rosalind}∪{roger,bob,john,doe}">
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="x∈customers">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀x⦂CardIds·x∈cleaners⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="getCards∈Reservations ⇸ {roger,bob,john,doe}">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="getCards" org.eventb.core.type="ℙ(Reservations×CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬locked=unlocked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})">
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers">
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="unlock∈CardIds → ℙ(Rooms)"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈{rosalind}∪{roger,bob,john,doe}">
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="reservedServices∈Reservations ⇸ {serviceRooms,∅ ⦂ ℙ(Rooms)}">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="reservedServices" org.eventb.core.type="ℙ(Reservations×ℙ(Rooms))"/>
</org.eventb.core.prPred>
<org.eventb.core.prExpr name="e0" org.eventb.core.expression="CardIds"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.onePointRule:2"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.totalDom:2"/>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="inv16/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="x,y" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10" org.eventb.core.prSets="CardIds,Reservations,Rooms">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p12"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p13"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p15"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p16"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p17"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p18"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p19"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p21"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p23"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p30">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25,p26,p27"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p31"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p32"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p33"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p34"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p35"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p30" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p45">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees x)" org.eventb.core.prGoal="p45" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p46">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p46" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p49" org.eventb.core.prHyps="p47,p48">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p49" org.eventb.core.prHyps="p3"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p50">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees x,y)" org.eventb.core.prGoal="p50" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p51">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="y" org.eventb.core.type="Reservations"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p51" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p53" org.eventb.core.prHyps="p47,p48,p52">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p53" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p54">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with serviceRooms={restaurant,swimmingPool}" org.eventb.core.prHyps="p13">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p10" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p10"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with bedRooms={room1,room2,room3,room4}" org.eventb.core.prHyps="p16">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p29" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with customers={roger,bob,john,doe}" org.eventb.core.prHyps="p17">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p3" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p58" org.eventb.core.prInfHyps="p59"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p44" org.eventb.core.prInfHyps="p60"/>
<org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p47" org.eventb.core.prInfHyps="p61"/>
<org.eventb.core.prHypAction name="FORWARD_INF4" org.eventb.core.prHyps="p56" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="DESELECT5" org.eventb.core.prHyps="p3,p58,p44,p47,p56"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with officers={rosalind}" org.eventb.core.prHyps="p18">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p2" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p60" org.eventb.core.prInfHyps="p64"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p2,p60"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p65"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="One Point Rule in ∀x·x=rosalind⇒unlock(x)=Rooms" org.eventb.core.prHyps="p65">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p65" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p66"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with cleaners={michel}" org.eventb.core.prHyps="p19">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p8" org.eventb.core.prInfHyps="p67"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p64" org.eventb.core.prInfHyps="p68"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p8,p64"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p67" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p69"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p68" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p70"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="One Point Rule in ∀x·x=michel⇒unlock(x)=Rooms" org.eventb.core.prHyps="p69">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p71"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with y=reservation(x)" org.eventb.core.prGoal="p54" org.eventb.core.prHyps="p52">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p72"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p73">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p69"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p73" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p73">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p65"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p73" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p74">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p74" org.eventb.core.prHyps="p10"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p75">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with serviceRooms={restaurant,swimmingPool}" org.eventb.core.prHyps="p13">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p10" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p10"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with bedRooms={room1,room2,room3,room4}" org.eventb.core.prHyps="p16">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p29" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with customers={roger,bob,john,doe}" org.eventb.core.prHyps="p17">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p3" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p58" org.eventb.core.prInfHyps="p59"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p44" org.eventb.core.prInfHyps="p60"/>
<org.eventb.core.prHypAction name="FORWARD_INF3" org.eventb.core.prHyps="p47" org.eventb.core.prInfHyps="p61"/>
<org.eventb.core.prHypAction name="FORWARD_INF4" org.eventb.core.prHyps="p56" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="DESELECT5" org.eventb.core.prHyps="p3,p58,p44,p47,p56"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with officers={rosalind}" org.eventb.core.prHyps="p18">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p2" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p60" org.eventb.core.prInfHyps="p64"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p2,p60"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p65"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="One Point Rule in ∀x·x=rosalind⇒unlock(x)=Rooms" org.eventb.core.prHyps="p65">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p65" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p66"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with cleaners={michel}" org.eventb.core.prHyps="p19">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p8" org.eventb.core.prInfHyps="p67"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p64" org.eventb.core.prInfHyps="p68"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p8,p64"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p67" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p69"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p68" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p70"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="One Point Rule in ∀x·x=michel⇒unlock(x)=Rooms" org.eventb.core.prHyps="p69">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p71"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="total function dom substitution in goal" org.eventb.core.prGoal="p75" org.eventb.core.prHyps="p7">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p76">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prGoal="p76" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p73">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p73" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
<org.eventb.core.prExprRef name=".subst" org.eventb.core.prRef="e0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p73">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p69"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p73" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p73">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p65"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p73" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="*" org.eventb.core.prGoal="p77">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p77" org.eventb.core.prHyps="p7"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="reservation" org.eventb.core.type="ℙ(CardIds×Reservations)"/>
<org.eventb.core.prIdent name="reservedServices" org.eventb.core.type="ℙ(Reservations×ℙ(Rooms))"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="unlock" org.eventb.core.type="ℙ(CardIds×ℙ(Rooms))"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="∀x⦂CardIds·x∈officers⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="y∈dom(reservedServices)∧reservedServices∈Reservations ⇸ ℙ(Rooms)∧x∈dom(unlock)∧unlock∈CardIds ⇸ ℙ(Rooms)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="y" org.eventb.core.type="Reservations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="reservation(x)∈dom(reservedServices)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="x∈dom(reservation)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="x∈CardIds">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="x∈{roger,bob,john,doe}">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀x⦂CardIds,y⦂Reservations·x∈customers∧x∈dom(reservation)∧y=reservation(x)⇒y∈dom(reservedServices)∧reservedServices∈Reservations ⇸ ℙ(Rooms)∧x∈dom(unlock)∧unlock∈CardIds ⇸ ℙ(Rooms)"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}">
<org.eventb.core.prIdent name="Services" org.eventb.core.type="ℙ(Services)"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀x⦂CardIds·∀y⦂Rooms·∀z⦂Rooms·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y∈bedRooms∧z∈bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="unlock(rosalind)=Rooms"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∀x⦂Reservations·beginning(x)&lt;ending(x)">
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="y∈dom(reservedServices)">
<org.eventb.core.prIdent name="y" org.eventb.core.type="Reservations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="getCards∈Reservations ⇸ customers">
<org.eventb.core.prIdent name="getCards" org.eventb.core.type="ℙ(Reservations×CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="x∈dom(unlock)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="(∀x⦂CardIds·x∈customers∧x∈dom(reservation)⇒reservation∈CardIds ⇸ Reservations)∧(∀x⦂CardIds,y⦂Reservations·x∈customers∧x∈dom(reservation)∧y=reservation(x)⇒y∈dom(reservedServices)∧reservedServices∈Reservations ⇸ ℙ(Rooms)∧x∈dom(unlock)∧unlock∈CardIds ⇸ ℙ(Rooms))"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="∀x⦂CardIds·x=rosalind⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)">
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="reservedServices∈Reservations ⇸ ℙ(serviceRooms)"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}">
<org.eventb.core.prIdent name="Bills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y=michel∨y∈{rosalind}∪{roger,bob,john,doe}">
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="reservation∈{roger,bob,john,doe} ⇸ Reservations"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})">
<org.eventb.core.prIdent name="Services" org.eventb.core.type="ℙ(Services)"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="reservation∈customers ⇸ Reservations"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="reservedServices∈Reservations ⇸ ℙ({restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀x⦂CardIds,y⦂Rooms,z⦂Rooms·x∈{roger,bob,john,doe}⇒(y∈unlock(x)∧z∈unlock(x)∧y∈{room1,room2,room3,room4}∧z∈{room1,room2,room3,room4}⇒y=z)"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀x⦂CardIds·x∈{rosalind}⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀x⦂Reservations·⊤⇒beginning(x)&lt;ending(x)">
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪{roger,bob,john,doe}">
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="x∈customers∧x∈dom(reservation)⇒reservation∈CardIds ⇸ Reservations">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="unlock∈CardIds ⇸ ℙ(Rooms)"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="y=reservation(x)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="y" org.eventb.core.type="Reservations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬unlocked=alwaysUnlocked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀x⦂CardIds,y⦂Rooms,z⦂Rooms·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y∈bedRooms∧z∈bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀x⦂Reservations·x∈Reservations⇒beginning(x)&lt;ending(x)">
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})">
<org.eventb.core.prIdent name="Bills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="∀x⦂CardIds·x∈{michel}⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀x⦂CardIds,y⦂Rooms,z⦂Rooms·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y∈{room1,room2,room3,room4}∧z∈{room1,room2,room3,room4}⇒y=z)"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="∀x⦂CardIds·x=michel⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="unlock(michel)=Rooms"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀x⦂CardIds·x∈customers∧x∈dom(reservation)⇒reservation∈CardIds ⇸ Reservations"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="bedRooms⊆Rooms"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬alwaysUnlocked=locked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)">
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="reservedServices∈Reservations ⇸ ℙ(Rooms)"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈{michel}∨y∈{rosalind}∪{roger,bob,john,doe}">
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="x∈customers">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="∀x⦂CardIds·x∈cleaners⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="getCards∈Reservations ⇸ {roger,bob,john,doe}">
<org.eventb.core.prIdent name="getCards" org.eventb.core.type="ℙ(Reservations×CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="reservation∈CardIds ⇸ Reservations"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬locked=unlocked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers">
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀x⦂CardIds,y⦂Reservations·(x∈customers∧x∈dom(reservation)⇒reservation∈CardIds ⇸ Reservations)∧(x∈customers∧x∈dom(reservation)∧y=reservation(x)⇒y∈dom(reservedServices)∧reservedServices∈Reservations ⇸ ℙ(Rooms)∧x∈dom(unlock)∧unlock∈CardIds ⇸ ℙ(Rooms))"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="unlock∈CardIds → ℙ(Rooms)"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="x∈customers∧x∈dom(reservation)∧y=reservation(x)⇒y∈dom(reservedServices)∧reservedServices∈Reservations ⇸ ℙ(Rooms)∧x∈dom(unlock)∧unlock∈CardIds ⇸ ℙ(Rooms)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="y" org.eventb.core.type="Reservations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈{rosalind}∪{roger,bob,john,doe}">
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
</org.eventb.core.prPred>
<org.eventb.core.prExpr name="e0" org.eventb.core.expression="CardIds"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.onePointRule:2"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="org.eventb.core.seqprover.totalDom:2"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv1/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21" org.eventb.core.prSets="Bills,CardIds,Doors,Reservations,Rooms,Services,State">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p22"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p23"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p24"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p26"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p27"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p30"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31,p32,p33"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p34"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p35"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p36"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p38"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with customers={roger,bob,john,doe}" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p26">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p41">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p41" org.eventb.core.prHyps="p2,p10,p4,p6,p17,p7,p19,p14,p5,p8,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p40">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="servedServices" org.eventb.core.type="ℙ(Rooms×ℙ(Services))"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="today" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="cleaners∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="today∈ℕ"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬unlocked=alwaysUnlocked"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="officers∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(CardIds×Reservations))∈customers ⇸ Reservations"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="bedRooms⊆Rooms"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬alwaysUnlocked=locked"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="servedServices∈serviceRooms → {Services}"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="cleaners∩officers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="cleaners∪customers∪officers=CardIds"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="bedRooms∪serviceRooms=Rooms"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="today=2021"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="(∅ ⦂ ℙ(CardIds×Reservations))∈{roger,bob,john,doe} ⇸ Reservations"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="getRoom∈Doors → Rooms"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬locked=unlocked"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="bedRooms∩serviceRooms=(∅ ⦂ ℙ(Rooms))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv2/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21" org.eventb.core.prSets="Bills,CardIds,Doors,Reservations,Rooms,Services,State">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p22"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p23"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p24"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p26"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p27"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p30"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31,p32,p33"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p34"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p35"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p36"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p38"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with customers={roger,bob,john,doe}" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p26">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p41">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p41" org.eventb.core.prHyps="p2,p10,p4,p6,p17,p7,p19,p14,p5,p8,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p40">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="servedServices" org.eventb.core.type="ℙ(Rooms×ℙ(Services))"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="today" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="cleaners∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="today∈ℕ"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬unlocked=alwaysUnlocked"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="officers∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="bedRooms⊆Rooms"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬alwaysUnlocked=locked"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="servedServices∈serviceRooms → {Services}"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="cleaners∩officers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="(∅ ⦂ ℙ(Reservations×CardIds))∈Reservations ⇸ {roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="cleaners∪customers∪officers=CardIds"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="bedRooms∪serviceRooms=Rooms"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="today=2021"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="getRoom∈Doors → Rooms"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬locked=unlocked"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(Reservations×CardIds))∈Reservations ⇸ customers"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="bedRooms∩serviceRooms=(∅ ⦂ ℙ(Rooms))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv3/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21" org.eventb.core.prSets="Bills,CardIds,Doors,Reservations,Rooms,Services,State">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p22"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p23"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p24"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p26"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p27"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p30"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31,p32,p33"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p34"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p35"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p36"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p38"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p2,p10,p4,p6,p17,p7,p19,p14,p5,p8,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p40">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="servedServices" org.eventb.core.type="ℙ(Rooms×ℙ(Services))"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="today" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(Reservations×ℤ))∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="cleaners∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="today∈ℕ"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬unlocked=alwaysUnlocked"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="officers∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="bedRooms⊆Rooms"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬alwaysUnlocked=locked"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="servedServices∈serviceRooms → {Services}"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="cleaners∩officers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="cleaners∪customers∪officers=CardIds"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="bedRooms∪serviceRooms=Rooms"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="today=2021"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="getRoom∈Doors → Rooms"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬locked=unlocked"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="bedRooms∩serviceRooms=(∅ ⦂ ℙ(Rooms))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv4/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21" org.eventb.core.prSets="Bills,CardIds,Doors,Reservations,Rooms,Services,State">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p22"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p23"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p24"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p26"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p27"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p30"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31,p32,p33"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p34"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p35"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p36"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p38"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p2,p10,p4,p6,p17,p7,p19,p14,p5,p8,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p40">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="servedServices" org.eventb.core.type="ℙ(Rooms×ℙ(Services))"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="today" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(Reservations×ℤ))∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="cleaners∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="today∈ℕ"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬unlocked=alwaysUnlocked"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="officers∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="bedRooms⊆Rooms"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬alwaysUnlocked=locked"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="servedServices∈serviceRooms → {Services}"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="cleaners∩officers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="cleaners∪customers∪officers=CardIds"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="bedRooms∪serviceRooms=Rooms"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="today=2021"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="getRoom∈Doors → Rooms"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬locked=unlocked"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="bedRooms∩serviceRooms=(∅ ⦂ ℙ(Rooms))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv5/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21" org.eventb.core.prSets="Bills,CardIds,Doors,Rooms,Services,State">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p22"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p23"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p24"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p26"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p27"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p30"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p34">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31,p32,p33"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p35"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p36"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p38"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p39"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p34" org.eventb.core.prHyps="p2,p10,p4,p6,p17,p7,p19,p14,p5,p8,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p41">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="servedServices" org.eventb.core.type="ℙ(Rooms×ℙ(Services))"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="today" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="cleaners∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="today∈ℕ"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬unlocked=alwaysUnlocked"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="officers∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="bedRooms⊆Rooms"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬alwaysUnlocked=locked"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="servedServices∈serviceRooms → {Services}"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="cleaners∩officers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="cleaners∪customers∪officers=CardIds"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="bedRooms∪serviceRooms=Rooms"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="today=2021"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="getRoom∈Doors → Rooms"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬locked=unlocked"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="(∅ ⦂ ℙ(Rooms×ℙ(CardIds)))∈Rooms ⇸ {CardIds}"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="bedRooms∩serviceRooms=(∅ ⦂ ℙ(Rooms))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="Rooms × (∅ ⦂ ℙ(ℙ(CardIds)))∈Rooms ⇸ {CardIds}"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv6/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21" org.eventb.core.prSets="Bills,CardIds,Doors,Reservations,Rooms,Services,State">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p22"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p23"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p24"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p26"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p27"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p30"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31,p32,p33"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p34"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p35"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p36"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p38"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with serviceRooms={restaurant,swimmingPool}" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p23">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p41">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p41" org.eventb.core.prHyps="p2,p10,p4,p6,p17,p7,p19,p14,p5,p8,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p40">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="servedServices" org.eventb.core.type="ℙ(Rooms×ℙ(Services))"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="today" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="cleaners∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="today∈ℕ"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬unlocked=alwaysUnlocked"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="(∅ ⦂ ℙ(Reservations×ℙ(Rooms)))∈Reservations ⇸ ℙ({restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="officers∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="bedRooms⊆Rooms"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(Reservations×ℙ(Rooms)))∈Reservations ⇸ ℙ(serviceRooms)"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬alwaysUnlocked=locked"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="servedServices∈serviceRooms → {Services}"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="cleaners∩officers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="cleaners∪customers∪officers=CardIds"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="bedRooms∪serviceRooms=Rooms"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="today=2021"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="getRoom∈Doors → Rooms"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬locked=unlocked"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="bedRooms∩serviceRooms=(∅ ⦂ ℙ(Rooms))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv8/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21" org.eventb.core.prSets="Bills,CardIds,Doors,Rooms,Services,State">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p22"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p23"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p24"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p26"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p27"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p30"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31,p32,p33"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p34"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p35"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p36"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p38"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p2,p10,p4,p6,p17,p7,p19,p14,p5,p8,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p40">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="servedServices" org.eventb.core.type="ℙ(Rooms×ℙ(Services))"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="today" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="cleaners∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="today∈ℕ"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬unlocked=alwaysUnlocked"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="officers∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="bedRooms⊆Rooms"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬alwaysUnlocked=locked"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="servedServices∈serviceRooms → {Services}"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="cleaners∩officers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="cleaners∪customers∪officers=CardIds"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="bedRooms∪serviceRooms=Rooms"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="today=2021"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(Bills×ℙ(Services)))∈Bills ⇸ ℙ(Services)"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="getRoom∈Doors → Rooms"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬locked=unlocked"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="bedRooms∩serviceRooms=(∅ ⦂ ℙ(Rooms))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv9/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21" org.eventb.core.prSets="Bills,CardIds,Doors,Reservations,Rooms,Services,State">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p22"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p23"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p24"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p26"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p27"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p30"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31,p32,p33"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p34"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p35"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p36"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p38"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p2,p10,p4,p6,p17,p7,p19,p14,p5,p8,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p40">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="servedServices" org.eventb.core.type="ℙ(Rooms×ℙ(Services))"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="today" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="cleaners∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="today∈ℕ"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬unlocked=alwaysUnlocked"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="officers∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="bedRooms⊆Rooms"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬alwaysUnlocked=locked"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="servedServices∈serviceRooms → {Services}"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="cleaners∩officers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="cleaners∪customers∪officers=CardIds"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="bedRooms∪serviceRooms=Rooms"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="today=2021"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="getRoom∈Doors → Rooms"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬locked=unlocked"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="bedRooms∩serviceRooms=(∅ ⦂ ℙ(Rooms))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(Reservations×Bills))∈Reservations ⇸ Bills"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv10/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="Reservations">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p4"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p6"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p8"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p10"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p12"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p14"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p16"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p18"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20,p21,p22"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p31">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p24"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p26"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p27"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p33">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="cleaners⊆CardIds">
<org.eventb.core.prIdent name="CardIds" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬unlocked=alwaysUnlocked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})">
<org.eventb.core.prIdent name="Bills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="cleaners={michel}">
<org.eventb.core.prIdent name="CardIds" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}">
<org.eventb.core.prIdent name="Services" org.eventb.core.type="ℙ(Services)"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})">
<org.eventb.core.prIdent name="Rooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}">
<org.eventb.core.prIdent name="Rooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})">
<org.eventb.core.prIdent name="CardIds" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="bedRooms⊆Rooms">
<org.eventb.core.prIdent name="Rooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="Rooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀x⦂Reservations·¬x∈Reservations"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬alwaysUnlocked=locked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="officers={rosalind}">
<org.eventb.core.prIdent name="CardIds" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="Rooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="⊥"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}">
<org.eventb.core.prIdent name="Bills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="officers⊆CardIds">
<org.eventb.core.prIdent name="CardIds" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="Rooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="partition(cleaners,{michel})">
<org.eventb.core.prIdent name="CardIds" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})">
<org.eventb.core.prIdent name="Services" org.eventb.core.type="ℙ(Services)"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}">
<org.eventb.core.prIdent name="Rooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀x⦂Reservations·x∈Reservations⇒(∅ ⦂ ℙ(Reservations×ℤ))(x)&lt;(∅ ⦂ ℙ(Reservations×ℤ))(x)"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬locked=unlocked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})">
<org.eventb.core.prIdent name="Rooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="customers={roger,bob,john,doe}">
<org.eventb.core.prIdent name="CardIds" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="serviceRooms⊆Rooms">
<org.eventb.core.prIdent name="Rooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="customers⊆CardIds">
<org.eventb.core.prIdent name="CardIds" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="partition(officers,{rosalind})">
<org.eventb.core.prIdent name="CardIds" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬⊤"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv11/INV" org.eventb.core.confidence="0" org.eventb.core.prFresh="x,y" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3" org.eventb.core.prSets="CardIds,Rooms">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p5"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p7"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p9"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p11"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p12"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p13"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p14"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p16"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p18"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20,p21,p22"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p31">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p24"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p26"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p27"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p33">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees x,y)" org.eventb.core.prGoal="p33" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p34">
<org.eventb.core.prIdent name="x" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="y" org.eventb.core.type="CardIds"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p34" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p36" org.eventb.core.prHyps="p35">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with customers={roger,bob,john,doe}" org.eventb.core.prGoal="p36" org.eventb.core.prHyps="p12">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p37">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with officers={rosalind}" org.eventb.core.prGoal="p37" org.eventb.core.prHyps="p13">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p38">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with cleaners={michel}" org.eventb.core.prGoal="p38" org.eventb.core.prHyps="p14">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p39">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p39" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p40"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="y∈(∅ ⦂ ℙ(Rooms×ℙ(CardIds)))(x)⇒y∈cleaners∨y∈officers∪customers">
<org.eventb.core.prIdent name="x" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="y" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="y∈cleaners∨y∈officers∪{roger,bob,john,doe}">
<org.eventb.core.prIdent name="y" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈(∅ ⦂ ℙ(Rooms×ℙ(CardIds)))(x)⇒y∈cleaners∨y∈officers∪customers"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="y∈(∅ ⦂ ℙ(Rooms×ℙ(CardIds)))(x)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="y" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬unlocked=alwaysUnlocked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="y=michel∨y∈{rosalind}∪{roger,bob,john,doe}">
<org.eventb.core.prIdent name="y" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})">
<org.eventb.core.prIdent name="Bills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}">
<org.eventb.core.prIdent name="Services" org.eventb.core.type="ℙ(Services)"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})">
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}">
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="bedRooms⊆Rooms">
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬alwaysUnlocked=locked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∀y⦂CardIds·y∈(∅ ⦂ ℙ(Rooms×ℙ(CardIds)))(x)⇒y∈cleaners∨y∈officers∪customers)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∀y⦂CardIds·y∈(Rooms × (∅ ⦂ ℙ(ℙ(CardIds))))(x)⇒y∈cleaners∨y∈officers∪customers)"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="y∈cleaners∨y∈officers∪customers">
<org.eventb.core.prIdent name="y" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="y∈cleaners∨y∈{rosalind}∪{roger,bob,john,doe}">
<org.eventb.core.prIdent name="y" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}">
<org.eventb.core.prIdent name="Bills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})">
<org.eventb.core.prIdent name="Services" org.eventb.core.type="ℙ(Services)"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}">
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="y∈{michel}∨y∈{rosalind}∪{roger,bob,john,doe}">
<org.eventb.core.prIdent name="y" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬locked=unlocked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∀y⦂CardIds·y∈(∅ ⦂ ℙ(Rooms×ℙ(CardIds)))(x)⇒y∈cleaners∨y∈officers∪customers)"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})">
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="serviceRooms⊆Rooms">
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv12/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21" org.eventb.core.prSets="Bills,CardIds,Doors,Rooms,Services,State">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p22"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p23"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p24"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p26"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p27"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p30"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p34">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31,p32,p33"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p35"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p36"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p38"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p39"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with officers={rosalind}" org.eventb.core.prGoal="p34" org.eventb.core.prHyps="p27">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p42">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with cleaners={michel}" org.eventb.core.prGoal="p42" org.eventb.core.prHyps="p28">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p43">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="p2,p10,p4,p6,p17,p7,p19,p14,p5,p8,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p41">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="servedServices" org.eventb.core.type="ℙ(Rooms×ℙ(Services))"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="today" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="cleaners∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="(cleaners × {Rooms})∪(officers × {Rooms})∈CardIds ⇸ {Rooms}"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="today∈ℕ"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬unlocked=alwaysUnlocked"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="officers∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="(cleaners × {Rooms})∪(officers × {Rooms})∪(customers × (∅ ⦂ ℙ(ℙ(Rooms))))∈CardIds ⇸ {Rooms}"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="bedRooms⊆Rooms"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬alwaysUnlocked=locked"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="({michel} × {Rooms})∪({rosalind} × {Rooms})∈CardIds ⇸ {Rooms}"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="servedServices∈serviceRooms → {Services}"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="cleaners∩officers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="cleaners∪customers∪officers=CardIds"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="bedRooms∪serviceRooms=Rooms"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="today=2021"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="getRoom∈Doors → Rooms"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬locked=unlocked"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="bedRooms∩serviceRooms=(∅ ⦂ ℙ(Rooms))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="(cleaners × {Rooms})∪({rosalind} × {Rooms})∈CardIds ⇸ {Rooms}"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv13/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="x" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="CardIds,Rooms,State">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p7">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p8"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p9"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p10"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p11"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p12"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p14" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees x)" org.eventb.core.prGoal="p7" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p16">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p16" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p18" org.eventb.core.prHyps="p17">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p18" org.eventb.core.prHyps="p2,p17">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="∀x⦂CardIds·x∈cleaners⇒((cleaners × {Rooms})∪(officers × {Rooms}))(x)=Rooms"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="((cleaners × {Rooms})∪(officers × {Rooms}))(x)=Rooms">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="∃x⦂CardIds·cleaners={x}"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∃x⦂CardIds·officers={x}"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="x∈cleaners⇒((cleaners × {Rooms})∪(officers × {Rooms}))(x)=Rooms">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀x⦂CardIds·x∈cleaners⇒((cleaners × {Rooms})∪(officers × {Rooms})∪(customers × (∅ ⦂ ℙ(ℙ(Rooms)))))(x)=Rooms"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="bedRooms⊆Rooms">
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="serviceRooms⊆Rooms">
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="card(officers)=1"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="card(cleaners)=1"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="x∈cleaners">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalPP:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv14/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="x" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21" org.eventb.core.prSets="Bills,CardIds,Doors,Rooms,Services,State">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p22"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p23"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p24"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p26"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p27"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p30"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p34">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31,p32,p33"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p35"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p36"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p38"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p39"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees x)" org.eventb.core.prGoal="p34" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p42">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p42" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p44" org.eventb.core.prHyps="p43">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with officers={rosalind}" org.eventb.core.prGoal="p44" org.eventb.core.prHyps="p27">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p46">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p43" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p43"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with cleaners={michel}" org.eventb.core.prGoal="p46" org.eventb.core.prHyps="p28">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p48">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with x=rosalind" org.eventb.core.prGoal="p48" org.eventb.core.prHyps="p47">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p49">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p49" org.eventb.core.prHyps="p2,p10,p5,p6,p17,p7,p19,p14,p4,p8,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p41,p43,p47">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="servedServices" org.eventb.core.type="ℙ(Rooms×ℙ(Services))"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="today" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="x=rosalind">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="cleaners∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="today∈ℕ"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀x⦂CardIds·x∈officers⇒((cleaners × {Rooms})∪(officers × {Rooms})∪(customers × (∅ ⦂ ℙ(ℙ(Rooms)))))(x)=Rooms"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="(({michel} × {Rooms})∪({rosalind} × {Rooms}))(rosalind)=Rooms"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="servedServices∈serviceRooms → {Services}"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="((cleaners × {Rooms})∪(officers × {Rooms}))(x)=Rooms">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="x∈{rosalind}">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="((cleaners × {Rooms})∪({rosalind} × {Rooms}))(x)=Rooms">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="cleaners∩officers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="cleaners∪customers∪officers=CardIds"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀x⦂CardIds·x∈officers⇒((cleaners × {Rooms})∪(officers × {Rooms}))(x)=Rooms"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="bedRooms∪serviceRooms=Rooms"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="bedRooms∩serviceRooms=(∅ ⦂ ℙ(Rooms))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="(({michel} × {Rooms})∪({rosalind} × {Rooms}))(x)=Rooms">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬unlocked=alwaysUnlocked"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="officers∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="bedRooms⊆Rooms"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬alwaysUnlocked=locked"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="x∈officers⇒((cleaners × {Rooms})∪(officers × {Rooms}))(x)=Rooms">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="today=2021"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="getRoom∈Doors → Rooms"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬locked=unlocked"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="x∈officers">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv15/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="x,y,z" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4" org.eventb.core.prSets="CardIds,Rooms">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p6"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p8"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p10"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p11"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p12"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p13"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p14"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p16"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p18"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20,p21,p22"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p24"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p26"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p27"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees x,y,z)" org.eventb.core.prGoal="p23" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p32">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="y" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="z" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p32" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p34" org.eventb.core.prHyps="p33">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p34" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p39" org.eventb.core.prHyps="p35,p36,p37,p38">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with bedRooms={room1,room2,room3,room4}" org.eventb.core.prHyps="p11">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p37" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p38" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p37,p38"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with customers={roger,bob,john,doe}" org.eventb.core.prHyps="p12">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p33" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p35" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p36" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p33,p35,p36"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with officers={rosalind}" org.eventb.core.prHyps="p13">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p43" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p44" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p43,p44"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with cleaners={michel}" org.eventb.core.prHyps="p14">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p45" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p46" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p45,p46"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with y={room1,room2,room3,room4}" org.eventb.core.prGoal="p39" org.eventb.core.prHyps="p40">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p50">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p47" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p47"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p50" org.eventb.core.prHyps="p41"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="y∈((cleaners × {{Rooms}})∪(officers × {{Rooms}})∪(customers × {{∅ ⦂ ℙ(Rooms)}}))(x)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="y" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="{room1,room2,room3,room4}∈(({michel} × {{Rooms}})∪({rosalind} × {{Rooms}})∪({roger,bob,john,doe} × {{∅ ⦂ ℙ(Rooms)}}))(x)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀x⦂CardIds·∀y⦂ℙ(Rooms)·∀z⦂ℙ(Rooms)·x∈customers⇒(y∈((cleaners × {{Rooms}})∪(officers × {{Rooms}})∪(customers × {{∅ ⦂ ℙ(Rooms)}}))(x)∧z∈((cleaners × {{Rooms}})∪(officers × {{Rooms}})∪(customers × {{∅ ⦂ ℙ(Rooms)}}))(x)∧y∈{bedRooms}∧z∈{bedRooms}⇒y=z)"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="x∈{roger,bob,john,doe}">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="z∈((cleaners × {{Rooms}})∪(officers × {{Rooms}})∪({roger,bob,john,doe} × {{∅ ⦂ ℙ(Rooms)}}))(x)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="z" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="z={room1,room2,room3,room4}">
<org.eventb.core.prIdent name="z" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}">
<org.eventb.core.prIdent name="Services" org.eventb.core.type="ℙ(Services)"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="z=bedRooms">
<org.eventb.core.prIdent name="z" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}">
<org.eventb.core.prIdent name="Bills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="x∈customers⇒(y∈((cleaners × {{Rooms}})∪(officers × {{Rooms}})∪(customers × {{∅ ⦂ ℙ(Rooms)}}))(x)∧z∈((cleaners × {{Rooms}})∪(officers × {{Rooms}})∪(customers × {{∅ ⦂ ℙ(Rooms)}}))(x)∧y=bedRooms∧z=bedRooms⇒y=z)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="y" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="z" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="y∈(({michel} × {{Rooms}})∪({rosalind} × {{Rooms}})∪({roger,bob,john,doe} × {{∅ ⦂ ℙ(Rooms)}}))(x)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="y" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})">
<org.eventb.core.prIdent name="Services" org.eventb.core.type="ℙ(Services)"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀x⦂CardIds,y⦂ℙ(Rooms),z⦂ℙ(Rooms)·x∈customers⇒(y∈((cleaners × {{Rooms}})∪(officers × {{Rooms}})∪(customers × {{∅ ⦂ ℙ(Rooms)}}))(x)∧z∈((cleaners × {{Rooms}})∪(officers × {{Rooms}})∪(customers × {{∅ ⦂ ℙ(Rooms)}}))(x)∧y=bedRooms∧z=bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="z∈((cleaners × {{Rooms}})∪({rosalind} × {{Rooms}})∪({roger,bob,john,doe} × {{∅ ⦂ ℙ(Rooms)}}))(x)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="z" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="{room1,room2,room3,room4}=z">
<org.eventb.core.prIdent name="z" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="y=bedRooms">
<org.eventb.core.prIdent name="y" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬unlocked=alwaysUnlocked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})">
<org.eventb.core.prIdent name="Bills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})">
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="bedRooms⊆Rooms"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="y∈((cleaners × {{Rooms}})∪(officers × {{Rooms}})∪({roger,bob,john,doe} × {{∅ ⦂ ℙ(Rooms)}}))(x)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="y" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬alwaysUnlocked=locked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="y∈((cleaners × {{Rooms}})∪(officers × {{Rooms}})∪(customers × {{∅ ⦂ ℙ(Rooms)}}))(x)∧z∈((cleaners × {{Rooms}})∪(officers × {{Rooms}})∪(customers × {{∅ ⦂ ℙ(Rooms)}}))(x)∧y=bedRooms∧z=bedRooms⇒y=z">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="y" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="z" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="z∈(({michel} × {{Rooms}})∪({rosalind} × {{Rooms}})∪({roger,bob,john,doe} × {{∅ ⦂ ℙ(Rooms)}}))(x)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="z" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="x∈customers">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="z∈((cleaners × {{Rooms}})∪(officers × {{Rooms}})∪(customers × {{∅ ⦂ ℙ(Rooms)}}))(x)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="z" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="y∈((cleaners × {{Rooms}})∪({rosalind} × {{Rooms}})∪({roger,bob,john,doe} × {{∅ ⦂ ℙ(Rooms)}}))(x)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="y" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}">
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="y=z">
<org.eventb.core.prIdent name="y" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="z" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬locked=unlocked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="serviceRooms⊆Rooms">
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="y={room1,room2,room3,room4}">
<org.eventb.core.prIdent name="y" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv16/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="CardIds,Reservations,Rooms">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p4"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p6"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p8"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p10"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p12"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p14"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p16"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p18"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p23">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20,p21,p22"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p23" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀x⦂CardIds·∃y⦂Reservations·x∈customers∧x∈dom(∅ ⦂ ℙ(CardIds×Reservations))∧y=(∅ ⦂ ℙ(CardIds×Reservations))(x)⇒(∅ ⦂ ℙ(Reservations×ℙ(Rooms)))(y)⊆((cleaners × {Rooms})∪(officers × {Rooms})∪(customers × {∅ ⦂ ℙ(Rooms)}))(x)"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬unlocked=alwaysUnlocked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})">
<org.eventb.core.prIdent name="Bills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}">
<org.eventb.core.prIdent name="Bills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="partition(cleaners,{michel})">
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="cleaners={michel}">
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})">
<org.eventb.core.prIdent name="Services" org.eventb.core.type="ℙ(Services)"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}">
<org.eventb.core.prIdent name="Services" org.eventb.core.type="ℙ(Services)"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})">
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}">
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬locked=unlocked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})">
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}">
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})">
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="customers={roger,bob,john,doe}">
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬alwaysUnlocked=locked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="partition(officers,{rosalind})">
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="officers={rosalind}">
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv17/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21" org.eventb.core.prSets="Bills,CardIds,Doors,Rooms,Services,State">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p22"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p23"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p24"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p24"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p26"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p27"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p29"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p30"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31,p32,p33"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p34"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p35"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p36"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p38"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p2,p10,p4,p6,p17,p7,p19,p14,p5,p8,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p40">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="servedServices" org.eventb.core.type="ℙ(Rooms×ℙ(Services))"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="today" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="Doors × {locked}∈Doors → State"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="cleaners∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="today∈ℕ"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬unlocked=alwaysUnlocked"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="officers∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="bedRooms⊆Rooms"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬alwaysUnlocked=locked"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="servedServices∈serviceRooms → {Services}"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="cleaners∩officers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="cleaners∪customers∪officers=CardIds"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="bedRooms∪serviceRooms=Rooms"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="today=2021"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="getRoom∈Doors → Rooms"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬locked=unlocked"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="bedRooms∩serviceRooms=(∅ ⦂ ℙ(Rooms))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv18/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9" org.eventb.core.prSets="Bills,CardIds,Doors,Rooms,Services,State">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p10"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p11"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p12"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p13"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p14"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p15"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p16"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p17"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p18"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20,p21,p22"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p23"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p24"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p26"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p27"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with bedRooms={room1,room2,room3,room4}" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p13">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p31">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="p10,p11,p12,p13,p14,p15,p16,p17,p18">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬unlocked=alwaysUnlocked"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="bedRooms⊆Rooms"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)">
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬alwaysUnlocked=locked"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)">
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="bedRooms × {0}∈bedRooms → {0,1}"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x">
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="{room1,room2,room3,room4} × {0}∈{room1,room2,room3,room4} → {0,1}"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬locked=unlocked"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalPP:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="payement/grd3/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="Rooms">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p4"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p6"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p6"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Rooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p8"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10,p11"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13,p14,p15"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p17"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p19"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p21"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p24"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p26"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p27"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p28"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p34"/>
<org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p35"/>
<org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p36"/>
<org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p37"/>
<org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p13"/>
<org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p14"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p15"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p41">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="total function dom substitution in goal" org.eventb.core.prGoal="p41" org.eventb.core.prHyps="p2">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p1" org.eventb.core.prHyps="p1"/>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
<org.eventb.core.prExprRef name=".subst" org.eventb.core.prRef="e0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p42">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p42" org.eventb.core.prHyps="p2"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="bed" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="isReserved" org.eventb.core.type="ℙ(Rooms×ℤ)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="partition(Rooms,{restaurant,swimmingPool})">
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="cleaners⊆CardIds">
<org.eventb.core.prIdent name="CardIds" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀x⦂CardIds·x∈customers∧x∈dom(reservation)∧(∀y⦂Reservations·y=reservation(x))⇒(∃y⦂Reservations·reservedServices(y)⊆unlock(x))">
<org.eventb.core.prIdent name="CardIds" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="reservation" org.eventb.core.type="ℙ(CardIds×Reservations)"/>
<org.eventb.core.prIdent name="reservedServices" org.eventb.core.type="ℙ(Reservations×ℙ(Rooms))"/>
<org.eventb.core.prIdent name="unlock" org.eventb.core.type="ℙ(CardIds×ℙ(Rooms))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∃x⦂CardIds·cleaners={x}">
<org.eventb.core.prIdent name="CardIds" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∃x⦂CardIds·officers={x}">
<org.eventb.core.prIdent name="CardIds" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="unusedReservations⊆Reservations">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="unusedReservations" org.eventb.core.type="ℙ(Reservations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="isReserved∈Rooms ⇸ ℤ"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀x⦂CardIds,y⦂Rooms,z⦂Rooms·x∈customers⇒(unlock(x)={y}∧unlock(x)={z}∧y∈bedRooms∧z∈bedRooms⇒y=z)">
<org.eventb.core.prIdent name="CardIds" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="unlock" org.eventb.core.type="ℙ(CardIds×ℙ(Rooms))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀x⦂Reservations·x∈Reservations⇒beginning(x)&lt;ending(x)">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="unusedBills⊆Bills">
<org.eventb.core.prIdent name="Bills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="unusedBills" org.eventb.core.type="ℙ(Bills)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}">
<org.eventb.core.prIdent name="Services" org.eventb.core.type="ℙ(Services)"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="assigned⊆CardIds">
<org.eventb.core.prIdent name="CardIds" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="assigned" org.eventb.core.type="ℙ(CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="bedRooms⊆Rooms"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)">
<org.eventb.core.prIdent name="CardIds" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="isReserved∈bedRooms → {0,1}"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="massage∈Services">
<org.eventb.core.prIdent name="Services" org.eventb.core.type="ℙ(Services)"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="card(officers)=1">
<org.eventb.core.prIdent name="CardIds" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="∀x⦂CardIds·∃y⦂Reservations·x∈customers∧x∈dom(reservation)∧y=reservation(x)⇒reservedServices(y)⊆unlock(x)">
<org.eventb.core.prIdent name="CardIds" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="reservation" org.eventb.core.type="ℙ(CardIds×Reservations)"/>
<org.eventb.core.prIdent name="reservedServices" org.eventb.core.type="ℙ(Reservations×ℙ(Rooms))"/>
<org.eventb.core.prIdent name="unlock" org.eventb.core.type="ℙ(CardIds×ℙ(Rooms))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀x⦂Reservations·beginning(x)&lt;ending(x)">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="card(cleaners)=1">
<org.eventb.core.prIdent name="CardIds" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="Rooms={restaurant,swimmingPool}">
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="restaurant∈serviceRooms∧swimmingPool∈serviceRooms">
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="bed∈dom(isReserved)∧isReserved∈Rooms ⇸ ℤ"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="buyADrink∈Services">
<org.eventb.core.prIdent name="Services" org.eventb.core.type="ℙ(Services)"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="buyFood∈Services">
<org.eventb.core.prIdent name="Services" org.eventb.core.type="ℙ(Services)"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)">
<org.eventb.core.prIdent name="CardIds" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="restaurant∈serviceRooms">
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="officers⊆CardIds">
<org.eventb.core.prIdent name="CardIds" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀x⦂CardIds·∀y⦂Rooms·∀z⦂Rooms·x∈customers⇒(unlock(x)={y}∧unlock(x)={z}∧y∈bedRooms∧z∈bedRooms⇒y=z)">
<org.eventb.core.prIdent name="CardIds" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="unlock" org.eventb.core.type="ℙ(CardIds×ℙ(Rooms))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})">
<org.eventb.core.prIdent name="Services" org.eventb.core.type="ℙ(Services)"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="buyADrink∈Services∧massage∈Services∧buyFood∈Services">
<org.eventb.core.prIdent name="Services" org.eventb.core.type="ℙ(Services)"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="swimmingPool∈serviceRooms">
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers">
<org.eventb.core.prIdent name="CardIds" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="bed∈dom(isReserved)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="bed∈bedRooms"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="serviceRooms⊆Rooms">
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="customers⊆CardIds">
<org.eventb.core.prIdent name="CardIds" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="∀x⦂Reservations·⊤⇒beginning(x)&lt;ending(x)">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prExpr name="e0" org.eventb.core.expression="bedRooms"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.totalDom:2"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="payement/inv1/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49" org.eventb.core.prSets="Bills,CardIds,Doors,Reservations,Rooms,Services,State">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p54"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p55"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p56"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p57"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p58"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59,p60,p61"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64,p65"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p66"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p67"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p68"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p69"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p70"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p71"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p72"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p74"/>
<org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p75"/>
<org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p76"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p77"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p72" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p78"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p79"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with serviceRooms={restaurant,swimmingPool}" org.eventb.core.prHyps="p51">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p80"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with bedRooms={room1,room2,room3,room4}" org.eventb.core.prHyps="p53">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p46" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with customers={roger,bob,john,doe}" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p54">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p84">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p32" org.eventb.core.prInfHyps="p82"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p65" org.eventb.core.prInfHyps="p83"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p32,p65"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p84" org.eventb.core.prHyps="p2,p31,p12,p13,p22,p17,p8,p43,p5,p40,p32,p9,p34,p38,p48,p18,p49,p19,p47,p39,p1,p27,p37,p42,p46,p28,p35,p25,p16,p45,p3,p21,p14,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p77,p78,p79,p80,p81,p82,p83">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="assigned" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="bed" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="begin" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="bill" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="cardid" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="end" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="extraServices" org.eventb.core.type="ℙ(Bills×ℙ(Services))"/>
<org.eventb.core.prIdent name="getBill" org.eventb.core.type="ℙ(Reservations×Bills)"/>
<org.eventb.core.prIdent name="getCards" org.eventb.core.type="ℙ(Reservations×CardIds)"/>
<org.eventb.core.prIdent name="getReservation" org.eventb.core.type="ℙ(CardIds×Reservations)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
<org.eventb.core.prIdent name="getState" org.eventb.core.type="ℙ(Doors×State)"/>
<org.eventb.core.prIdent name="isReserved" org.eventb.core.type="ℙ(Rooms×ℤ)"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="res" org.eventb.core.type="Reservations"/>
<org.eventb.core.prIdent name="reservedServices" org.eventb.core.type="ℙ(Reservations×ℙ(Rooms))"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="servedServices" org.eventb.core.type="ℙ(Rooms×ℙ(Services))"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="services" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="today" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="unlock" org.eventb.core.type="ℙ(CardIds×ℙ(Rooms))"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unusedBills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="unusedReservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀x⦂CardIds·x∈officers⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="getReservation{cardid ↦ res}∈customers ⇸ Reservations"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="cleaners∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="isReserved∈Rooms ⇸ ℤ"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="today∈ℕ"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="¬cardid∈assigned"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="unusedBills⊆Bills"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀x⦂CardIds·∀y⦂Rooms·∀z⦂Rooms·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y∈bedRooms∧z∈bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="servedServices∈serviceRooms → {Services}"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="∀x⦂Reservations·beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="getCards∈Reservations ⇸ customers"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="cardid∉assigned∧cardid∈customers"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="getReservation{cardid ↦ res}∈{roger,bob,john,doe} ⇸ Reservations"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="cleaners∩officers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="cleaners∪customers∪officers=CardIds"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="bill∈unusedBills"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="cardid∈customers"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="isReserved(bed)=0"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="bedRooms∪serviceRooms=Rooms"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="reservedServices∈Reservations ⇸ ℙ(serviceRooms)"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="getReservation∈{roger,bob,john,doe} ⇸ Reservations"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="getBill∈Reservations ⇸ Bills"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="begin&lt;end"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="bedRooms∩serviceRooms=(∅ ⦂ ℙ(Rooms))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="∀x⦂Reservations·⊤⇒beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="cardid∈{roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="services⊆serviceRooms"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀x⦂CardIds·∃y⦂Reservations·x∈customers∧x∈dom(getReservation)∧y=getReservation(x)⇒reservedServices(y)⊆unlock(x)"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="unusedReservations⊆Reservations"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="getState∈Doors → State"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="begin∈ℕ"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬unlocked=alwaysUnlocked"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀x⦂Reservations·x∈Reservations⇒beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀x⦂CardIds,y⦂Rooms,z⦂Rooms·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y∈bedRooms∧z∈bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="services⊆{restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="officers∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="getReservation∈customers ⇸ Reservations"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="assigned⊆CardIds"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="bedRooms⊆Rooms"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="beginning∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="end∈ℕ"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬alwaysUnlocked=locked"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="isReserved∈bedRooms → {0,1}"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀x⦂CardIds·x∈customers∧x∈dom(getReservation)∧(∀y⦂Reservations·y=getReservation(x))⇒(∃y⦂Reservations·reservedServices(y)⊆unlock(x))"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="bed∈{room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="ending∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀x⦂CardIds·x∈cleaners⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="today=2021"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="res∈unusedReservations"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="getRoom∈Doors → Rooms"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="¬locked=unlocked"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="bed∈dom(isReserved)"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="bed∈bedRooms"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="unlock∈CardIds → ℙ(Rooms)"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="occupied∈Rooms ⇸ {CardIds}"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="extraServices∈Bills ⇸ ℙ(Services)"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="payement/inv2/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49" org.eventb.core.prSets="Bills,CardIds,Doors,Reservations,Rooms,Services,State">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p54"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p55"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p56"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p57"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p58"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59,p60,p61"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64,p65"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p66"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p67"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p68"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p69"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p70"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p71"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p72"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p74"/>
<org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p75"/>
<org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p76"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p77"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p72" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p78"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p79"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with serviceRooms={restaurant,swimmingPool}" org.eventb.core.prHyps="p51">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p80"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with bedRooms={room1,room2,room3,room4}" org.eventb.core.prHyps="p53">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p46" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with customers={roger,bob,john,doe}" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p54">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p84">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p9" org.eventb.core.prInfHyps="p82"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p65" org.eventb.core.prInfHyps="p83"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p9,p65"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p84" org.eventb.core.prHyps="p2,p31,p12,p13,p22,p17,p8,p43,p5,p40,p32,p9,p34,p38,p48,p18,p49,p19,p47,p39,p1,p27,p37,p42,p46,p28,p35,p25,p16,p45,p3,p21,p14,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p77,p78,p79,p80,p81,p82,p83">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="assigned" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="bed" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="begin" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="bill" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="cardid" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="end" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="extraServices" org.eventb.core.type="ℙ(Bills×ℙ(Services))"/>
<org.eventb.core.prIdent name="getBill" org.eventb.core.type="ℙ(Reservations×Bills)"/>
<org.eventb.core.prIdent name="getCards" org.eventb.core.type="ℙ(Reservations×CardIds)"/>
<org.eventb.core.prIdent name="getReservation" org.eventb.core.type="ℙ(CardIds×Reservations)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
<org.eventb.core.prIdent name="getState" org.eventb.core.type="ℙ(Doors×State)"/>
<org.eventb.core.prIdent name="isReserved" org.eventb.core.type="ℙ(Rooms×ℤ)"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="res" org.eventb.core.type="Reservations"/>
<org.eventb.core.prIdent name="reservedServices" org.eventb.core.type="ℙ(Reservations×ℙ(Rooms))"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="servedServices" org.eventb.core.type="ℙ(Rooms×ℙ(Services))"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="services" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="today" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="unlock" org.eventb.core.type="ℙ(CardIds×ℙ(Rooms))"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unusedBills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="unusedReservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀x⦂CardIds·x∈officers⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="cleaners∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="isReserved∈Rooms ⇸ ℤ"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="today∈ℕ"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="¬cardid∈assigned"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="getCards{res ↦ cardid}∈Reservations ⇸ customers"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="unusedBills⊆Bills"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀x⦂CardIds·∀y⦂Rooms·∀z⦂Rooms·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y∈bedRooms∧z∈bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="servedServices∈serviceRooms → {Services}"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="∀x⦂Reservations·beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="getCards∈Reservations ⇸ customers"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="cardid∉assigned∧cardid∈customers"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="cleaners∩officers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="cleaners∪customers∪officers=CardIds"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="bill∈unusedBills"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="cardid∈customers"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="isReserved(bed)=0"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="bedRooms∪serviceRooms=Rooms"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="reservedServices∈Reservations ⇸ ℙ(serviceRooms)"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="getBill∈Reservations ⇸ Bills"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="begin&lt;end"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="bedRooms∩serviceRooms=(∅ ⦂ ℙ(Rooms))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="∀x⦂Reservations·⊤⇒beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="cardid∈{roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="services⊆serviceRooms"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀x⦂CardIds·∃y⦂Reservations·x∈customers∧x∈dom(getReservation)∧y=getReservation(x)⇒reservedServices(y)⊆unlock(x)"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="unusedReservations⊆Reservations"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="getState∈Doors → State"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="begin∈ℕ"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬unlocked=alwaysUnlocked"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀x⦂Reservations·x∈Reservations⇒beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀x⦂CardIds,y⦂Rooms,z⦂Rooms·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y∈bedRooms∧z∈bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="services⊆{restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="officers∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="getReservation∈customers ⇸ Reservations"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="assigned⊆CardIds"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="bedRooms⊆Rooms"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="beginning∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="end∈ℕ"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬alwaysUnlocked=locked"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="isReserved∈bedRooms → {0,1}"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀x⦂CardIds·x∈customers∧x∈dom(getReservation)∧(∀y⦂Reservations·y=getReservation(x))⇒(∃y⦂Reservations·reservedServices(y)⊆unlock(x))"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="bed∈{room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="ending∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀x⦂CardIds·x∈cleaners⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="today=2021"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="getCards∈Reservations ⇸ {roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="res∈unusedReservations"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="getRoom∈Doors → Rooms"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="¬locked=unlocked"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="getCards{res ↦ cardid}∈Reservations ⇸ {roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="bed∈dom(isReserved)"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="bed∈bedRooms"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="unlock∈CardIds → ℙ(Rooms)"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="occupied∈Rooms ⇸ {CardIds}"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="extraServices∈Bills ⇸ ℙ(Services)"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="payement/inv3/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49" org.eventb.core.prSets="Bills,CardIds,Doors,Reservations,Rooms,Services,State">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p54"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p55"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p56"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p57"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p58"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59,p60,p61"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64,p65"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p66"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p67"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p68"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p69"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p70"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p71"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p72"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p74"/>
<org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p75"/>
<org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p76"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p77"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p72" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p78"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p79"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with serviceRooms={restaurant,swimmingPool}" org.eventb.core.prHyps="p51">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p80"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with bedRooms={room1,room2,room3,room4}" org.eventb.core.prHyps="p53">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p46" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with customers={roger,bob,john,doe}" org.eventb.core.prHyps="p54">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p65" org.eventb.core.prInfHyps="p82"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p65"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p2,p31,p12,p13,p22,p17,p8,p43,p5,p40,p32,p9,p34,p38,p48,p18,p49,p19,p47,p39,p1,p27,p37,p42,p46,p28,p35,p25,p16,p45,p3,p21,p14,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p77,p78,p79,p80,p81,p82">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="assigned" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="bed" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="begin" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="bill" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="cardid" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="end" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="extraServices" org.eventb.core.type="ℙ(Bills×ℙ(Services))"/>
<org.eventb.core.prIdent name="getBill" org.eventb.core.type="ℙ(Reservations×Bills)"/>
<org.eventb.core.prIdent name="getCards" org.eventb.core.type="ℙ(Reservations×CardIds)"/>
<org.eventb.core.prIdent name="getReservation" org.eventb.core.type="ℙ(CardIds×Reservations)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
<org.eventb.core.prIdent name="getState" org.eventb.core.type="ℙ(Doors×State)"/>
<org.eventb.core.prIdent name="isReserved" org.eventb.core.type="ℙ(Rooms×ℤ)"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="res" org.eventb.core.type="Reservations"/>
<org.eventb.core.prIdent name="reservedServices" org.eventb.core.type="ℙ(Reservations×ℙ(Rooms))"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="servedServices" org.eventb.core.type="ℙ(Rooms×ℙ(Services))"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="services" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="today" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="unlock" org.eventb.core.type="ℙ(CardIds×ℙ(Rooms))"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unusedBills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="unusedReservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀x⦂CardIds·x∈officers⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="cleaners∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="isReserved∈Rooms ⇸ ℤ"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="today∈ℕ"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="¬cardid∈assigned"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="unusedBills⊆Bills"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀x⦂CardIds·∀y⦂Rooms·∀z⦂Rooms·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y∈bedRooms∧z∈bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="servedServices∈serviceRooms → {Services}"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="∀x⦂Reservations·beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="getCards∈Reservations ⇸ customers"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="cardid∉assigned∧cardid∈customers"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="cleaners∩officers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="cleaners∪customers∪officers=CardIds"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="bill∈unusedBills"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="cardid∈customers"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="isReserved(bed)=0"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="bedRooms∪serviceRooms=Rooms"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="reservedServices∈Reservations ⇸ ℙ(serviceRooms)"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="getBill∈Reservations ⇸ Bills"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="begin&lt;end"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="bedRooms∩serviceRooms=(∅ ⦂ ℙ(Rooms))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="∀x⦂Reservations·⊤⇒beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="cardid∈{roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="services⊆serviceRooms"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀x⦂CardIds·∃y⦂Reservations·x∈customers∧x∈dom(getReservation)∧y=getReservation(x)⇒reservedServices(y)⊆unlock(x)"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="unusedReservations⊆Reservations"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="getState∈Doors → State"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="begin∈ℕ"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬unlocked=alwaysUnlocked"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀x⦂Reservations·x∈Reservations⇒beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀x⦂CardIds,y⦂Rooms,z⦂Rooms·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y∈bedRooms∧z∈bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="services⊆{restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="officers∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="getReservation∈customers ⇸ Reservations"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="assigned⊆CardIds"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="bedRooms⊆Rooms"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="beginning∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="end∈ℕ"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬alwaysUnlocked=locked"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="isReserved∈bedRooms → {0,1}"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀x⦂CardIds·x∈customers∧x∈dom(getReservation)∧(∀y⦂Reservations·y=getReservation(x))⇒(∃y⦂Reservations·reservedServices(y)⊆unlock(x))"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="bed∈{room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="ending∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀x⦂CardIds·x∈cleaners⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="today=2021"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="beginning{res ↦ begin}∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="res∈unusedReservations"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="getRoom∈Doors → Rooms"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="¬locked=unlocked"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="bed∈dom(isReserved)"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="bed∈bedRooms"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="unlock∈CardIds → ℙ(Rooms)"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="occupied∈Rooms ⇸ {CardIds}"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="extraServices∈Bills ⇸ ℙ(Services)"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="payement/inv4/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49" org.eventb.core.prSets="Bills,CardIds,Doors,Reservations,Rooms,Services,State">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p54"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p55"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p56"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p57"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p58"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59,p60,p61"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64,p65"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p66"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p67"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p68"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p69"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p70"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p71"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p72"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p74"/>
<org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p75"/>
<org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p76"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p77"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p72" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p78"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p79"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with serviceRooms={restaurant,swimmingPool}" org.eventb.core.prHyps="p51">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p80"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with bedRooms={room1,room2,room3,room4}" org.eventb.core.prHyps="p53">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p46" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with customers={roger,bob,john,doe}" org.eventb.core.prHyps="p54">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p65" org.eventb.core.prInfHyps="p82"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p65"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p2,p31,p12,p13,p22,p17,p8,p43,p5,p40,p32,p9,p34,p38,p48,p18,p49,p19,p47,p39,p1,p27,p37,p42,p46,p28,p35,p25,p16,p45,p3,p21,p14,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p77,p78,p79,p80,p81,p82">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="assigned" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="bed" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="begin" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="bill" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="cardid" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="end" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="extraServices" org.eventb.core.type="ℙ(Bills×ℙ(Services))"/>
<org.eventb.core.prIdent name="getBill" org.eventb.core.type="ℙ(Reservations×Bills)"/>
<org.eventb.core.prIdent name="getCards" org.eventb.core.type="ℙ(Reservations×CardIds)"/>
<org.eventb.core.prIdent name="getReservation" org.eventb.core.type="ℙ(CardIds×Reservations)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
<org.eventb.core.prIdent name="getState" org.eventb.core.type="ℙ(Doors×State)"/>
<org.eventb.core.prIdent name="isReserved" org.eventb.core.type="ℙ(Rooms×ℤ)"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="res" org.eventb.core.type="Reservations"/>
<org.eventb.core.prIdent name="reservedServices" org.eventb.core.type="ℙ(Reservations×ℙ(Rooms))"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="servedServices" org.eventb.core.type="ℙ(Rooms×ℙ(Services))"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="services" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="today" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="unlock" org.eventb.core.type="ℙ(CardIds×ℙ(Rooms))"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unusedBills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="unusedReservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀x⦂CardIds·x∈officers⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="cleaners∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="isReserved∈Rooms ⇸ ℤ"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="ending{res ↦ end}∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="today∈ℕ"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="¬cardid∈assigned"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="unusedBills⊆Bills"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀x⦂CardIds·∀y⦂Rooms·∀z⦂Rooms·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y∈bedRooms∧z∈bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="servedServices∈serviceRooms → {Services}"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="∀x⦂Reservations·beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="getCards∈Reservations ⇸ customers"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="cardid∉assigned∧cardid∈customers"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="cleaners∩officers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="cleaners∪customers∪officers=CardIds"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="bill∈unusedBills"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="cardid∈customers"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="isReserved(bed)=0"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="bedRooms∪serviceRooms=Rooms"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="reservedServices∈Reservations ⇸ ℙ(serviceRooms)"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="getBill∈Reservations ⇸ Bills"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="begin&lt;end"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="bedRooms∩serviceRooms=(∅ ⦂ ℙ(Rooms))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="∀x⦂Reservations·⊤⇒beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="cardid∈{roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="services⊆serviceRooms"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀x⦂CardIds·∃y⦂Reservations·x∈customers∧x∈dom(getReservation)∧y=getReservation(x)⇒reservedServices(y)⊆unlock(x)"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="unusedReservations⊆Reservations"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="getState∈Doors → State"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="begin∈ℕ"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬unlocked=alwaysUnlocked"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀x⦂Reservations·x∈Reservations⇒beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀x⦂CardIds,y⦂Rooms,z⦂Rooms·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y∈bedRooms∧z∈bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="services⊆{restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="officers∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="getReservation∈customers ⇸ Reservations"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="assigned⊆CardIds"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="bedRooms⊆Rooms"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="beginning∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="end∈ℕ"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬alwaysUnlocked=locked"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="isReserved∈bedRooms → {0,1}"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀x⦂CardIds·x∈customers∧x∈dom(getReservation)∧(∀y⦂Reservations·y=getReservation(x))⇒(∃y⦂Reservations·reservedServices(y)⊆unlock(x))"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="bed∈{room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="ending∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀x⦂CardIds·x∈cleaners⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="today=2021"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="res∈unusedReservations"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="getRoom∈Doors → Rooms"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="¬locked=unlocked"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="bed∈dom(isReserved)"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="bed∈bedRooms"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="unlock∈CardIds → ℙ(Rooms)"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="occupied∈Rooms ⇸ {CardIds}"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="extraServices∈Bills ⇸ ℙ(Services)"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="payement/inv6/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49" org.eventb.core.prSets="Bills,CardIds,Doors,Reservations,Rooms,Services,State">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p54"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p55"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p56"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p57"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p58"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59,p60,p61"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64,p65"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p66"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p67"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p68"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p69"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p70"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p71"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p72"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p74"/>
<org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p75"/>
<org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p76"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p77"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p72" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p78"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p79"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with serviceRooms={restaurant,swimmingPool}" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p51">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p82">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p80"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p18,p25"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with bedRooms={room1,room2,room3,room4}" org.eventb.core.prHyps="p53">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p46" org.eventb.core.prInfHyps="p83"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with customers={roger,bob,john,doe}" org.eventb.core.prHyps="p54">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p65" org.eventb.core.prInfHyps="p84"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p65"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p82" org.eventb.core.prHyps="p2,p31,p12,p13,p22,p17,p8,p43,p5,p40,p32,p9,p34,p38,p48,p18,p49,p19,p47,p39,p1,p27,p37,p42,p46,p28,p35,p25,p16,p45,p3,p21,p14,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p77,p78,p79,p80,p81,p83,p84">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="assigned" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="bed" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="begin" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="bill" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="cardid" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="end" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="extraServices" org.eventb.core.type="ℙ(Bills×ℙ(Services))"/>
<org.eventb.core.prIdent name="getBill" org.eventb.core.type="ℙ(Reservations×Bills)"/>
<org.eventb.core.prIdent name="getCards" org.eventb.core.type="ℙ(Reservations×CardIds)"/>
<org.eventb.core.prIdent name="getReservation" org.eventb.core.type="ℙ(CardIds×Reservations)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
<org.eventb.core.prIdent name="getState" org.eventb.core.type="ℙ(Doors×State)"/>
<org.eventb.core.prIdent name="isReserved" org.eventb.core.type="ℙ(Rooms×ℤ)"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="res" org.eventb.core.type="Reservations"/>
<org.eventb.core.prIdent name="reservedServices" org.eventb.core.type="ℙ(Reservations×ℙ(Rooms))"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="servedServices" org.eventb.core.type="ℙ(Rooms×ℙ(Services))"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="services" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="today" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="unlock" org.eventb.core.type="ℙ(CardIds×ℙ(Rooms))"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unusedBills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="unusedReservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀x⦂CardIds·x∈officers⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="cleaners∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="isReserved∈Rooms ⇸ ℤ"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="today∈ℕ"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="¬cardid∈assigned"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="unusedBills⊆Bills"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀x⦂CardIds·∀y⦂Rooms·∀z⦂Rooms·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y∈bedRooms∧z∈bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="reservedServices{res ↦ services}∈Reservations ⇸ ℙ({restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="servedServices∈serviceRooms → {Services}"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="∀x⦂Reservations·beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="getCards∈Reservations ⇸ customers"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="cardid∉assigned∧cardid∈customers"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="cleaners∩officers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="cleaners∪customers∪officers=CardIds"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="bill∈unusedBills"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="cardid∈customers"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="isReserved(bed)=0"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="bedRooms∪serviceRooms=Rooms"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="reservedServices∈Reservations ⇸ ℙ(serviceRooms)"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="getBill∈Reservations ⇸ Bills"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="begin&lt;end"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="bedRooms∩serviceRooms=(∅ ⦂ ℙ(Rooms))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="reservedServices∈Reservations ⇸ ℙ({restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="∀x⦂Reservations·⊤⇒beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="cardid∈{roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="services⊆serviceRooms"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀x⦂CardIds·∃y⦂Reservations·x∈customers∧x∈dom(getReservation)∧y=getReservation(x)⇒reservedServices(y)⊆unlock(x)"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="unusedReservations⊆Reservations"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="getState∈Doors → State"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="begin∈ℕ"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬unlocked=alwaysUnlocked"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀x⦂Reservations·x∈Reservations⇒beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀x⦂CardIds,y⦂Rooms,z⦂Rooms·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y∈bedRooms∧z∈bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="services⊆{restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="officers∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="getReservation∈customers ⇸ Reservations"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="assigned⊆CardIds"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="bedRooms⊆Rooms"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="beginning∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="end∈ℕ"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬alwaysUnlocked=locked"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="reservedServices{res ↦ services}∈Reservations ⇸ ℙ(serviceRooms)"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="isReserved∈bedRooms → {0,1}"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀x⦂CardIds·x∈customers∧x∈dom(getReservation)∧(∀y⦂Reservations·y=getReservation(x))⇒(∃y⦂Reservations·reservedServices(y)⊆unlock(x))"/>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="bed∈{room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="ending∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀x⦂CardIds·x∈cleaners⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="today=2021"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="res∈unusedReservations"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="getRoom∈Doors → Rooms"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="¬locked=unlocked"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="bed∈dom(isReserved)"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="bed∈bedRooms"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="unlock∈CardIds → ℙ(Rooms)"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="occupied∈Rooms ⇸ {CardIds}"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="extraServices∈Bills ⇸ ℙ(Services)"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="payement/inv9/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49" org.eventb.core.prSets="Bills,CardIds,Doors,Reservations,Rooms,Services,State">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p54"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p55"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p56"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p57"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p58"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59,p60,p61"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64,p65"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p66"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p67"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p68"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p69"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p70"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p71"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p72"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p74"/>
<org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p75"/>
<org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p76"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p77"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p72" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p78"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p79"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with serviceRooms={restaurant,swimmingPool}" org.eventb.core.prHyps="p51">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p80"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with bedRooms={room1,room2,room3,room4}" org.eventb.core.prHyps="p53">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p46" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with customers={roger,bob,john,doe}" org.eventb.core.prHyps="p54">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p65" org.eventb.core.prInfHyps="p82"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p65"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p2,p31,p12,p13,p22,p17,p8,p43,p5,p40,p32,p9,p34,p38,p48,p18,p49,p19,p47,p39,p1,p27,p37,p42,p46,p28,p35,p25,p16,p45,p3,p21,p14,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p77,p78,p79,p80,p81,p82">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="assigned" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="bed" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="begin" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="bill" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="cardid" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="end" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="extraServices" org.eventb.core.type="ℙ(Bills×ℙ(Services))"/>
<org.eventb.core.prIdent name="getBill" org.eventb.core.type="ℙ(Reservations×Bills)"/>
<org.eventb.core.prIdent name="getCards" org.eventb.core.type="ℙ(Reservations×CardIds)"/>
<org.eventb.core.prIdent name="getReservation" org.eventb.core.type="ℙ(CardIds×Reservations)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
<org.eventb.core.prIdent name="getState" org.eventb.core.type="ℙ(Doors×State)"/>
<org.eventb.core.prIdent name="isReserved" org.eventb.core.type="ℙ(Rooms×ℤ)"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="res" org.eventb.core.type="Reservations"/>
<org.eventb.core.prIdent name="reservedServices" org.eventb.core.type="ℙ(Reservations×ℙ(Rooms))"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="servedServices" org.eventb.core.type="ℙ(Rooms×ℙ(Services))"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="services" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="today" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="unlock" org.eventb.core.type="ℙ(CardIds×ℙ(Rooms))"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unusedBills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="unusedReservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀x⦂CardIds·x∈officers⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="cleaners∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="isReserved∈Rooms ⇸ ℤ"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="today∈ℕ"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="¬cardid∈assigned"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="unusedBills⊆Bills"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀x⦂CardIds·∀y⦂Rooms·∀z⦂Rooms·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y∈bedRooms∧z∈bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="servedServices∈serviceRooms → {Services}"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="∀x⦂Reservations·beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="getCards∈Reservations ⇸ customers"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="cardid∉assigned∧cardid∈customers"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="cleaners∩officers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="cleaners∪customers∪officers=CardIds"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="bill∈unusedBills"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="cardid∈customers"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="isReserved(bed)=0"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="bedRooms∪serviceRooms=Rooms"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="reservedServices∈Reservations ⇸ ℙ(serviceRooms)"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="getBill∈Reservations ⇸ Bills"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="begin&lt;end"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="bedRooms∩serviceRooms=(∅ ⦂ ℙ(Rooms))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="∀x⦂Reservations·⊤⇒beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="cardid∈{roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="services⊆serviceRooms"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀x⦂CardIds·∃y⦂Reservations·x∈customers∧x∈dom(getReservation)∧y=getReservation(x)⇒reservedServices(y)⊆unlock(x)"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="unusedReservations⊆Reservations"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="getState∈Doors → State"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="begin∈ℕ"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬unlocked=alwaysUnlocked"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀x⦂Reservations·x∈Reservations⇒beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀x⦂CardIds,y⦂Rooms,z⦂Rooms·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y∈bedRooms∧z∈bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="services⊆{restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="officers∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="getReservation∈customers ⇸ Reservations"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="assigned⊆CardIds"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="bedRooms⊆Rooms"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="beginning∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="end∈ℕ"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬alwaysUnlocked=locked"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="isReserved∈bedRooms → {0,1}"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀x⦂CardIds·x∈customers∧x∈dom(getReservation)∧(∀y⦂Reservations·y=getReservation(x))⇒(∃y⦂Reservations·reservedServices(y)⊆unlock(x))"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="bed∈{room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="ending∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀x⦂CardIds·x∈cleaners⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="today=2021"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="getBill{res ↦ bill}∈Reservations ⇸ Bills"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="res∈unusedReservations"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="getRoom∈Doors → Rooms"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="¬locked=unlocked"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="bed∈dom(isReserved)"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="bed∈bedRooms"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="unlock∈CardIds → ℙ(Rooms)"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="occupied∈Rooms ⇸ {CardIds}"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="extraServices∈Bills ⇸ ℙ(Services)"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="payement/inv10/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="x" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49" org.eventb.core.prSets="Bills,CardIds,Doors,Reservations,Rooms,Services,State">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p54"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p55"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p56"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p57"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p58"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59,p60,p61"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64,p65"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p77">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p66"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p67"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p68"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p69"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p70"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p71"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p72"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p74"/>
<org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p75"/>
<org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p76"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p77" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p81">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p78"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p72" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p79"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p80"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees x)" org.eventb.core.prGoal="p81" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p82">
<org.eventb.core.prIdent name="x" org.eventb.core.type="Reservations"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p82" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p84" org.eventb.core.prHyps="p83">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p84" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p21" org.eventb.core.prHyps="p83">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p21" org.eventb.core.prHyps="p21"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p86" org.eventb.core.prHyps="p85">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p86" org.eventb.core.prHyps="p38">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p87">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p85" org.eventb.core.prHyps="p83" org.eventb.core.prInfHyps="p88"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p88" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p89"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p89"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p90" org.eventb.core.prHyps="p85">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p90" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p91" org.eventb.core.prHyps="p83">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p91" org.eventb.core.prHyps="p34">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p92">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p83" org.eventb.core.prHyps="p85" org.eventb.core.prInfHyps="p89"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p89"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p93" org.eventb.core.prHyps="p85">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p93" org.eventb.core.prHyps="p34">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p94">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p94" org.eventb.core.prHyps="p38">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p95">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with serviceRooms={restaurant,swimmingPool}" org.eventb.core.prHyps="p51">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p96"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with bedRooms={room1,room2,room3,room4}" org.eventb.core.prHyps="p53">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p46" org.eventb.core.prInfHyps="p97"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with customers={roger,bob,john,doe}" org.eventb.core.prHyps="p54">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p65" org.eventb.core.prInfHyps="p98"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p65"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p95" org.eventb.core.prHyps="p2,p31,p12,p13,p22,p17,p8,p43,p5,p40,p32,p9,p34,p38,p48,p18,p49,p19,p47,p39,p1,p27,p37,p42,p46,p28,p35,p25,p16,p45,p3,p21,p14,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p78,p79,p80,p85,p96,p97,p98">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="assigned" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="bed" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="begin" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="bill" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="cardid" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="end" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="extraServices" org.eventb.core.type="ℙ(Bills×ℙ(Services))"/>
<org.eventb.core.prIdent name="getBill" org.eventb.core.type="ℙ(Reservations×Bills)"/>
<org.eventb.core.prIdent name="getCards" org.eventb.core.type="ℙ(Reservations×CardIds)"/>
<org.eventb.core.prIdent name="getReservation" org.eventb.core.type="ℙ(CardIds×Reservations)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
<org.eventb.core.prIdent name="getState" org.eventb.core.type="ℙ(Doors×State)"/>
<org.eventb.core.prIdent name="isReserved" org.eventb.core.type="ℙ(Rooms×ℤ)"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="res" org.eventb.core.type="Reservations"/>
<org.eventb.core.prIdent name="reservedServices" org.eventb.core.type="ℙ(Reservations×ℙ(Rooms))"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="servedServices" org.eventb.core.type="ℙ(Rooms×ℙ(Services))"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="services" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="today" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="unlock" org.eventb.core.type="ℙ(CardIds×ℙ(Rooms))"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unusedBills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="unusedReservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prPred name="p93" org.eventb.core.predicate="({res} ⩤ beginning)(x)&lt;({res} ⩤ ending)(x)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="Reservations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="isReserved∈Rooms ⇸ ℤ"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="today∈ℕ"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="¬cardid∈assigned"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="∀x⦂Reservations·⊤⇒(beginning{res ↦ begin})(x)&lt;(ending{res ↦ end})(x)"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀x⦂CardIds·∀y⦂Rooms·∀z⦂Rooms·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y∈bedRooms∧z∈bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="servedServices∈serviceRooms → {Services}"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="∀x⦂Reservations·beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="getCards∈Reservations ⇸ customers"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="bill∈unusedBills"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="isReserved(bed)=0"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="bedRooms∪serviceRooms=Rooms"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="begin&lt;end"/>
<org.eventb.core.prPred name="p90" org.eventb.core.predicate="({res} ⩤ beginning)(x)&lt;(ending{res ↦ end})(x)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="Reservations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p98" org.eventb.core.predicate="cardid∈{roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="¬⊤"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀x⦂CardIds·∃y⦂Reservations·x∈customers∧x∈dom(getReservation)∧y=getReservation(x)⇒reservedServices(y)⊆unlock(x)"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="unusedReservations⊆Reservations"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="getState∈Doors → State"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})"/>
<org.eventb.core.prPred name="p96" org.eventb.core.predicate="services⊆{restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="officers∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="assigned⊆CardIds"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="bedRooms⊆Rooms"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="end∈ℕ"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬alwaysUnlocked=locked"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="isReserved∈bedRooms → {0,1}"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀x⦂CardIds·x∈customers∧x∈dom(getReservation)∧(∀y⦂Reservations·y=getReservation(x))⇒(∃y⦂Reservations·reservedServices(y)⊆unlock(x))"/>
<org.eventb.core.prPred name="p97" org.eventb.core.predicate="bed∈{room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p89" org.eventb.core.predicate="⊥"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="ending∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀x⦂CardIds·x∈cleaners⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="today=2021"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="getRoom∈Doors → Rooms"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="bed∈dom(isReserved)"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="bed∈bedRooms"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="occupied∈Rooms ⇸ {CardIds}"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="extraServices∈Bills ⇸ ℙ(Services)"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}"/>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="¬x=res">
<org.eventb.core.prIdent name="x" org.eventb.core.type="Reservations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀x⦂CardIds·x∈officers⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="cleaners∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p95" org.eventb.core.predicate="beginning(x)&lt;ending(x)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="Reservations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="unusedBills⊆Bills"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="∀x⦂Reservations·(beginning{res ↦ begin})(x)&lt;(ending{res ↦ end})(x)"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="cardid∉assigned∧cardid∈customers"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p91" org.eventb.core.predicate="({res} ⩤ beginning)(x)&lt;end">
<org.eventb.core.prIdent name="x" org.eventb.core.type="Reservations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="cleaners∩officers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="cleaners∪customers∪officers=CardIds"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="cardid∈customers"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="reservedServices∈Reservations ⇸ ℙ(serviceRooms)"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="getBill∈Reservations ⇸ Bills"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="bedRooms∩serviceRooms=(∅ ⦂ ℙ(Rooms))"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="begin&lt;(ending{res ↦ end})(x)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="Reservations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="∀x⦂Reservations·⊤⇒beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="services⊆serviceRooms"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p92" org.eventb.core.predicate="beginning(x)&lt;end">
<org.eventb.core.prIdent name="x" org.eventb.core.type="Reservations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="begin∈ℕ"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬unlocked=alwaysUnlocked"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀x⦂Reservations·x∈Reservations⇒beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀x⦂CardIds,y⦂Rooms,z⦂Rooms·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y∈bedRooms∧z∈bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="getReservation∈customers ⇸ Reservations"/>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="begin&lt;ending(x)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="Reservations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="x=res">
<org.eventb.core.prIdent name="x" org.eventb.core.type="Reservations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="begin&lt;({res} ⩤ ending)(x)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="Reservations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="(beginning{res ↦ begin})(x)&lt;(ending{res ↦ end})(x)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="Reservations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="beginning∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)"/>
<org.eventb.core.prPred name="p94" org.eventb.core.predicate="beginning(x)&lt;({res} ⩤ ending)(x)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="Reservations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="res∈unusedReservations"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="¬locked=unlocked"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="unlock∈CardIds → ℙ(Rooms)"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀x⦂Reservations·x∈Reservations⇒(beginning{res ↦ begin})(x)&lt;(ending{res ↦ end})(x)"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.funOvr:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="payement/inv12/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49" org.eventb.core.prSets="Bills,CardIds,Doors,Reservations,Rooms,Services,State">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p54"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p55"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p56"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p57"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p58"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59,p60,p61"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64,p65"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p66"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p67"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p68"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p69"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p70"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p71"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p72"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p74"/>
<org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p75"/>
<org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p76"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p77"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p72" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p78"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p79"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with serviceRooms={restaurant,swimmingPool}" org.eventb.core.prHyps="p51">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p80"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with bedRooms={room1,room2,room3,room4}" org.eventb.core.prHyps="p53">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p46" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with customers={roger,bob,john,doe}" org.eventb.core.prHyps="p54">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p65" org.eventb.core.prInfHyps="p82"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p65"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p2,p31,p12,p13,p22,p17,p8,p43,p5,p40,p32,p9,p34,p38,p48,p18,p49,p19,p47,p39,p1,p27,p37,p42,p46,p28,p35,p25,p16,p45,p3,p21,p14,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p77,p78,p79,p80,p81,p82">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="assigned" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="bed" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="begin" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="bill" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="cardid" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="end" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="extraServices" org.eventb.core.type="ℙ(Bills×ℙ(Services))"/>
<org.eventb.core.prIdent name="getBill" org.eventb.core.type="ℙ(Reservations×Bills)"/>
<org.eventb.core.prIdent name="getCards" org.eventb.core.type="ℙ(Reservations×CardIds)"/>
<org.eventb.core.prIdent name="getReservation" org.eventb.core.type="ℙ(CardIds×Reservations)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
<org.eventb.core.prIdent name="getState" org.eventb.core.type="ℙ(Doors×State)"/>
<org.eventb.core.prIdent name="isReserved" org.eventb.core.type="ℙ(Rooms×ℤ)"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="res" org.eventb.core.type="Reservations"/>
<org.eventb.core.prIdent name="reservedServices" org.eventb.core.type="ℙ(Reservations×ℙ(Rooms))"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="servedServices" org.eventb.core.type="ℙ(Rooms×ℙ(Services))"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="services" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="today" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="unlock" org.eventb.core.type="ℙ(CardIds×ℙ(Rooms))"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unusedBills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="unusedReservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀x⦂CardIds·x∈officers⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="cleaners∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="isReserved∈Rooms ⇸ ℤ"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="today∈ℕ"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="¬cardid∈assigned"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="unusedBills⊆Bills"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀x⦂CardIds·∀y⦂Rooms·∀z⦂Rooms·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y∈bedRooms∧z∈bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="servedServices∈serviceRooms → {Services}"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="∀x⦂Reservations·beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="getCards∈Reservations ⇸ customers"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="cardid∉assigned∧cardid∈customers"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="cleaners∩officers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="cleaners∪customers∪officers=CardIds"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="bill∈unusedBills"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="cardid∈customers"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="isReserved(bed)=0"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="bedRooms∪serviceRooms=Rooms"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="reservedServices∈Reservations ⇸ ℙ(serviceRooms)"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="getBill∈Reservations ⇸ Bills"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="begin&lt;end"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="bedRooms∩serviceRooms=(∅ ⦂ ℙ(Rooms))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="∀x⦂Reservations·⊤⇒beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="cardid∈{roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="services⊆serviceRooms"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀x⦂CardIds·∃y⦂Reservations·x∈customers∧x∈dom(getReservation)∧y=getReservation(x)⇒reservedServices(y)⊆unlock(x)"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="unusedReservations⊆Reservations"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="getState∈Doors → State"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="begin∈ℕ"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬unlocked=alwaysUnlocked"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀x⦂Reservations·x∈Reservations⇒beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀x⦂CardIds,y⦂Rooms,z⦂Rooms·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y∈bedRooms∧z∈bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="services⊆{restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="officers∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="getReservation∈customers ⇸ Reservations"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="assigned⊆CardIds"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="bedRooms⊆Rooms"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="beginning∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="end∈ℕ"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬alwaysUnlocked=locked"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="unlock{cardid ↦ services∪{bed}}∈CardIds → ℙ(Rooms)"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="isReserved∈bedRooms → {0,1}"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀x⦂CardIds·x∈customers∧x∈dom(getReservation)∧(∀y⦂Reservations·y=getReservation(x))⇒(∃y⦂Reservations·reservedServices(y)⊆unlock(x))"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="bed∈{room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="ending∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀x⦂CardIds·x∈cleaners⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="today=2021"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="res∈unusedReservations"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="getRoom∈Doors → Rooms"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="¬locked=unlocked"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="bed∈dom(isReserved)"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="bed∈bedRooms"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="unlock∈CardIds → ℙ(Rooms)"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="occupied∈Rooms ⇸ {CardIds}"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="extraServices∈Bills ⇸ ℙ(Services)"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="payement/inv13/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="x" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49" org.eventb.core.prSets="Bills,CardIds,Doors,Reservations,Rooms,Services,State">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p54"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p55"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p56"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p57"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p58"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59,p60,p61"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64,p65"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p66"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p67"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p68"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p69"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p70"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p71"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p72"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p74"/>
<org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p75"/>
<org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p76"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p77"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p72" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p78"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p79"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees x)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p80">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p80" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p82" org.eventb.core.prHyps="p81">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p82" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p84" org.eventb.core.prHyps="p83">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with serviceRooms={restaurant,swimmingPool}" org.eventb.core.prHyps="p51">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p85"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with bedRooms={room1,room2,room3,room4}" org.eventb.core.prHyps="p53">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p46" org.eventb.core.prInfHyps="p86"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with customers={roger,bob,john,doe}" org.eventb.core.prHyps="p54">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p65" org.eventb.core.prInfHyps="p87"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p65"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with cleaners={michel}" org.eventb.core.prHyps="p56">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p39" org.eventb.core.prInfHyps="p88"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p81" org.eventb.core.prInfHyps="p89"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p39,p81"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p88" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p90"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p89" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p91"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="One Point Rule in ∀x·x=michel⇒unlock(x)=Rooms" org.eventb.core.prHyps="p90">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p90" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p92"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with x=cardid" org.eventb.core.prHyps="p83">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p91" org.eventb.core.prInfHyps="p93"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p91"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with cardid=michel" org.eventb.core.prHyps="p93">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p64" org.eventb.core.prInfHyps="p94"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p87" org.eventb.core.prInfHyps="p95"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p64,p83,p87"/>
<org.eventb.core.prHypAction name="SELECT3" org.eventb.core.prHyps="p91"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p84" org.eventb.core.prHyps="p2,p31,p12,p13,p22,p17,p8,p43,p5,p40,p32,p9,p34,p38,p48,p18,p49,p19,p47,p39,p1,p27,p37,p42,p46,p28,p35,p25,p16,p45,p3,p21,p14,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p77,p78,p79,p81,p83,p85,p86,p87,p91,p92,p93,p94,p95">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p96">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p90"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p96" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p98" org.eventb.core.prHyps="p97">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p98" org.eventb.core.prHyps="p47">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p99">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with serviceRooms={restaurant,swimmingPool}" org.eventb.core.prHyps="p51">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p85"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with bedRooms={room1,room2,room3,room4}" org.eventb.core.prHyps="p53">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p46" org.eventb.core.prInfHyps="p86"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with customers={roger,bob,john,doe}" org.eventb.core.prHyps="p54">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p65" org.eventb.core.prInfHyps="p87"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p65"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with cleaners={michel}" org.eventb.core.prHyps="p56">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p39" org.eventb.core.prInfHyps="p88"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p81" org.eventb.core.prInfHyps="p89"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p39,p81"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p88" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p90"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p89" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p91"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="One Point Rule in ∀x·x=michel⇒unlock(x)=Rooms" org.eventb.core.prHyps="p90">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p90" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p92"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with x=michel" org.eventb.core.prGoal="p99" org.eventb.core.prHyps="p91">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p92">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p97" org.eventb.core.prInfHyps="p100"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p97"/>
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p92" org.eventb.core.prHyps="p92"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p96">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p90"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p96" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="assigned" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="bed" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="begin" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="bill" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="cardid" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="end" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="extraServices" org.eventb.core.type="ℙ(Bills×ℙ(Services))"/>
<org.eventb.core.prIdent name="getBill" org.eventb.core.type="ℙ(Reservations×Bills)"/>
<org.eventb.core.prIdent name="getCards" org.eventb.core.type="ℙ(Reservations×CardIds)"/>
<org.eventb.core.prIdent name="getReservation" org.eventb.core.type="ℙ(CardIds×Reservations)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
<org.eventb.core.prIdent name="getState" org.eventb.core.type="ℙ(Doors×State)"/>
<org.eventb.core.prIdent name="isReserved" org.eventb.core.type="ℙ(Rooms×ℤ)"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="res" org.eventb.core.type="Reservations"/>
<org.eventb.core.prIdent name="reservedServices" org.eventb.core.type="ℙ(Reservations×ℙ(Rooms))"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="servedServices" org.eventb.core.type="ℙ(Rooms×ℙ(Services))"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="services" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="today" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="unlock" org.eventb.core.type="ℙ(CardIds×ℙ(Rooms))"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unusedBills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="unusedReservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="isReserved∈Rooms ⇸ ℤ"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="today∈ℕ"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="¬cardid∈assigned"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀x⦂CardIds·∀y⦂Rooms·∀z⦂Rooms·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y∈bedRooms∧z∈bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="x=cardid">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="servedServices∈serviceRooms → {Services}"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="∀x⦂Reservations·beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="getCards∈Reservations ⇸ customers"/>
<org.eventb.core.prPred name="p89" org.eventb.core.predicate="x∈{michel}">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="bill∈unusedBills"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="isReserved(bed)=0"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="bedRooms∪serviceRooms=Rooms"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="begin&lt;end"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="cardid∈{roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="x∈cleaners">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀x⦂CardIds·∃y⦂Reservations·x∈customers∧x∈dom(getReservation)∧y=getReservation(x)⇒reservedServices(y)⊆unlock(x)"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="unusedReservations⊆Reservations"/>
<org.eventb.core.prPred name="p94" org.eventb.core.predicate="¬michel∈assigned"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="getState∈Doors → State"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})"/>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="services⊆{restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="officers∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="services∪{bed}=Rooms"/>
<org.eventb.core.prPred name="p90" org.eventb.core.predicate="∀x⦂CardIds·x=michel⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="assigned⊆CardIds"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="bedRooms⊆Rooms"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="end∈ℕ"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬alwaysUnlocked=locked"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="isReserved∈bedRooms → {0,1}"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀x⦂CardIds·x∈customers∧x∈dom(getReservation)∧(∀y⦂Reservations·y=getReservation(x))⇒(∃y⦂Reservations·reservedServices(y)⊆unlock(x))"/>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="bed∈{room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p96" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="ending∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀x⦂CardIds·x∈cleaners⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="today=2021"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="getRoom∈Doors → Rooms"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="bed∈dom(isReserved)"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="bed∈bedRooms"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="occupied∈Rooms ⇸ {CardIds}"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="extraServices∈Bills ⇸ ℙ(Services)"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}"/>
<org.eventb.core.prPred name="p93" org.eventb.core.predicate="cardid=michel"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="x∈cleaners⇒(unlock{cardid ↦ services∪{bed}})(x)=Rooms">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀x⦂CardIds·x∈officers⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="cleaners∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="(unlock{cardid ↦ services∪{bed}})(x)=Rooms">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="unusedBills⊆Bills"/>
<org.eventb.core.prPred name="p98" org.eventb.core.predicate="({cardid} ⩤ unlock)(x)=Rooms">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="cardid∉assigned∧cardid∈customers"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀x⦂CardIds·x∈cleaners⇒(unlock{cardid ↦ services∪{bed}})(x)=Rooms"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="cleaners∩officers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="cleaners∪customers∪officers=CardIds"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="cardid∈customers"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="reservedServices∈Reservations ⇸ ℙ(serviceRooms)"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="getBill∈Reservations ⇸ Bills"/>
<org.eventb.core.prPred name="p91" org.eventb.core.predicate="x=michel">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="bedRooms∩serviceRooms=(∅ ⦂ ℙ(Rooms))"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="∀x⦂Reservations·⊤⇒beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="services⊆serviceRooms"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p95" org.eventb.core.predicate="michel∈{roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="begin∈ℕ"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬unlocked=alwaysUnlocked"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀x⦂Reservations·x∈Reservations⇒beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀x⦂CardIds,y⦂Rooms,z⦂Rooms·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y∈bedRooms∧z∈bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="∀x⦂CardIds·x∈{michel}⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="getReservation∈customers ⇸ Reservations"/>
<org.eventb.core.prPred name="p97" org.eventb.core.predicate="¬x=cardid">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p92" org.eventb.core.predicate="unlock(michel)=Rooms"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="beginning∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x"/>
<org.eventb.core.prPred name="p100" org.eventb.core.predicate="¬michel=cardid"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="res∈unusedReservations"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="¬locked=unlocked"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="unlock∈CardIds → ℙ(Rooms)"/>
<org.eventb.core.prPred name="p99" org.eventb.core.predicate="unlock(x)=Rooms">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.funOvr:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.onePointRule:2"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
<org.eventb.core.prReas name="r11" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="payement/inv14/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="x" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49" org.eventb.core.prSets="Bills,CardIds,Doors,Reservations,Rooms,Services,State">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p54"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p55"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p56"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p57"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p58"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59,p60,p61"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64,p65"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p66"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p67"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p68"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p69"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p70"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p71"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p72"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p74"/>
<org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p75"/>
<org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p76"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p77"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p72" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p78"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p79"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees x)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p80">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p80" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p82" org.eventb.core.prHyps="p81">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p82" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p84" org.eventb.core.prHyps="p83">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with serviceRooms={restaurant,swimmingPool}" org.eventb.core.prHyps="p51">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p85"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with bedRooms={room1,room2,room3,room4}" org.eventb.core.prHyps="p53">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p46" org.eventb.core.prInfHyps="p86"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with customers={roger,bob,john,doe}" org.eventb.core.prHyps="p54">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p65" org.eventb.core.prInfHyps="p87"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p65"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with officers={rosalind}" org.eventb.core.prHyps="p55">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p1" org.eventb.core.prInfHyps="p88"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p81" org.eventb.core.prInfHyps="p89"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p1,p81"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p88" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p90"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p89" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p91"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="One Point Rule in ∀x·x=rosalind⇒unlock(x)=Rooms" org.eventb.core.prHyps="p90">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p90" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p92"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with x=cardid" org.eventb.core.prHyps="p83">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p91" org.eventb.core.prInfHyps="p93"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p91"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with cardid=rosalind" org.eventb.core.prHyps="p93">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p64" org.eventb.core.prInfHyps="p94"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p87" org.eventb.core.prInfHyps="p95"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p64,p83,p87"/>
<org.eventb.core.prHypAction name="SELECT3" org.eventb.core.prHyps="p91"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p84" org.eventb.core.prHyps="p2,p31,p12,p13,p22,p17,p8,p43,p5,p40,p32,p9,p34,p38,p48,p18,p49,p19,p47,p39,p1,p27,p37,p42,p46,p28,p35,p25,p16,p45,p3,p21,p14,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p77,p78,p79,p81,p83,p85,p86,p87,p91,p92,p93,p94,p95">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p96">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p90"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p96" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p98" org.eventb.core.prHyps="p97">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p98" org.eventb.core.prHyps="p47">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p99">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with serviceRooms={restaurant,swimmingPool}" org.eventb.core.prHyps="p51">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p85"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with bedRooms={room1,room2,room3,room4}" org.eventb.core.prHyps="p53">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p46" org.eventb.core.prInfHyps="p86"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with customers={roger,bob,john,doe}" org.eventb.core.prHyps="p54">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p65" org.eventb.core.prInfHyps="p87"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p65"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with officers={rosalind}" org.eventb.core.prHyps="p55">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p1" org.eventb.core.prInfHyps="p88"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p81" org.eventb.core.prInfHyps="p89"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p1,p81"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p88" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p90"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p89" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p91"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="One Point Rule in ∀x·x=rosalind⇒unlock(x)=Rooms" org.eventb.core.prHyps="p90">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p90" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p92"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with x=rosalind" org.eventb.core.prGoal="p99" org.eventb.core.prHyps="p91">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p92">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p97" org.eventb.core.prInfHyps="p100"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p97"/>
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p92" org.eventb.core.prHyps="p92"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p96">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p90"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p96" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="assigned" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="bed" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="begin" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="bill" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="cardid" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="end" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="extraServices" org.eventb.core.type="ℙ(Bills×ℙ(Services))"/>
<org.eventb.core.prIdent name="getBill" org.eventb.core.type="ℙ(Reservations×Bills)"/>
<org.eventb.core.prIdent name="getCards" org.eventb.core.type="ℙ(Reservations×CardIds)"/>
<org.eventb.core.prIdent name="getReservation" org.eventb.core.type="ℙ(CardIds×Reservations)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
<org.eventb.core.prIdent name="getState" org.eventb.core.type="ℙ(Doors×State)"/>
<org.eventb.core.prIdent name="isReserved" org.eventb.core.type="ℙ(Rooms×ℤ)"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="res" org.eventb.core.type="Reservations"/>
<org.eventb.core.prIdent name="reservedServices" org.eventb.core.type="ℙ(Reservations×ℙ(Rooms))"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="servedServices" org.eventb.core.type="ℙ(Rooms×ℙ(Services))"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="services" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="today" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="unlock" org.eventb.core.type="ℙ(CardIds×ℙ(Rooms))"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unusedBills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="unusedReservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="isReserved∈Rooms ⇸ ℤ"/>
<org.eventb.core.prPred name="p95" org.eventb.core.predicate="rosalind∈{roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p100" org.eventb.core.predicate="¬rosalind=cardid"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="today∈ℕ"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="¬cardid∈assigned"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀x⦂CardIds·∀y⦂Rooms·∀z⦂Rooms·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y∈bedRooms∧z∈bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="x=cardid">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀x⦂CardIds·x∈officers⇒(unlock{cardid ↦ services∪{bed}})(x)=Rooms"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}"/>
<org.eventb.core.prPred name="p92" org.eventb.core.predicate="unlock(rosalind)=Rooms"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="servedServices∈serviceRooms → {Services}"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="∀x⦂Reservations·beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="getCards∈Reservations ⇸ customers"/>
<org.eventb.core.prPred name="p90" org.eventb.core.predicate="∀x⦂CardIds·x=rosalind⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="bill∈unusedBills"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="isReserved(bed)=0"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="bedRooms∪serviceRooms=Rooms"/>
<org.eventb.core.prPred name="p94" org.eventb.core.predicate="¬rosalind∈assigned"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="begin&lt;end"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})"/>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="∀x⦂CardIds·x∈{rosalind}⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="cardid∈{roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="x∈officers⇒(unlock{cardid ↦ services∪{bed}})(x)=Rooms">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀x⦂CardIds·∃y⦂Reservations·x∈customers∧x∈dom(getReservation)∧y=getReservation(x)⇒reservedServices(y)⊆unlock(x)"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="unusedReservations⊆Reservations"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="getState∈Doors → State"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})"/>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="services⊆{restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="officers∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="services∪{bed}=Rooms"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="assigned⊆CardIds"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="bedRooms⊆Rooms"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="end∈ℕ"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬alwaysUnlocked=locked"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="isReserved∈bedRooms → {0,1}"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀x⦂CardIds·x∈customers∧x∈dom(getReservation)∧(∀y⦂Reservations·y=getReservation(x))⇒(∃y⦂Reservations·reservedServices(y)⊆unlock(x))"/>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="bed∈{room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p96" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="ending∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀x⦂CardIds·x∈cleaners⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="today=2021"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="getRoom∈Doors → Rooms"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="bed∈dom(isReserved)"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="bed∈bedRooms"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="x∈officers">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="occupied∈Rooms ⇸ {CardIds}"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="extraServices∈Bills ⇸ ℙ(Services)"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀x⦂CardIds·x∈officers⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p91" org.eventb.core.predicate="x=rosalind">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="cleaners∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="(unlock{cardid ↦ services∪{bed}})(x)=Rooms">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="unusedBills⊆Bills"/>
<org.eventb.core.prPred name="p98" org.eventb.core.predicate="({cardid} ⩤ unlock)(x)=Rooms">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="cardid∉assigned∧cardid∈customers"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p89" org.eventb.core.predicate="x∈{rosalind}">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="cleaners∩officers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="cleaners∪customers∪officers=CardIds"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="cardid∈customers"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="reservedServices∈Reservations ⇸ ℙ(serviceRooms)"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="getBill∈Reservations ⇸ Bills"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="bedRooms∩serviceRooms=(∅ ⦂ ℙ(Rooms))"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="∀x⦂Reservations·⊤⇒beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="services⊆serviceRooms"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p93" org.eventb.core.predicate="cardid=rosalind"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="begin∈ℕ"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬unlocked=alwaysUnlocked"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀x⦂Reservations·x∈Reservations⇒beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀x⦂CardIds,y⦂Rooms,z⦂Rooms·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y∈bedRooms∧z∈bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="getReservation∈customers ⇸ Reservations"/>
<org.eventb.core.prPred name="p97" org.eventb.core.predicate="¬x=cardid">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="beginning∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="res∈unusedReservations"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="¬locked=unlocked"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="unlock∈CardIds → ℙ(Rooms)"/>
<org.eventb.core.prPred name="p99" org.eventb.core.predicate="unlock(x)=Rooms">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.funOvr:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.onePointRule:2"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
<org.eventb.core.prReas name="r11" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="payement/inv15/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="x,y,z" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5" org.eventb.core.prSets="CardIds,Rooms">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p7"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p7"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p8"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p10"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p11"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p12"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p14"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p14"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p16"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p16"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p18"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p18"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p20"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p31">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p22,p23,p24"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p25"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p29,p30"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p32"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p33"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p34"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p35"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p36"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p37" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p38"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p43"/>
<org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p44"/>
<org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p45"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees x,y,z)" org.eventb.core.prGoal="p31" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p49">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="y" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="z" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p49" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p51" org.eventb.core.prHyps="p50">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p51" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p56" org.eventb.core.prHyps="p52,p53,p54,p55">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in (unlock{cardid ↦ {services∪{bed}}})(x)" org.eventb.core.prHyps="p52">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p57,p58">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in (unlock{cardid ↦ {services∪{bed}}})(x)" org.eventb.core.prHyps="p53">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p57,p59">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p58" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p60"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p59" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p61"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="One Point Rule in ∀x,y,z·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y=bedRooms∧z=bedRooms⇒y=z)" org.eventb.core.prHyps="p25">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="One Point Rule in ∀x,z·x∈customers⇒(bedRooms∈unlock(x)∧z∈unlock(x)∧z=bedRooms⇒bedRooms=z)" org.eventb.core.prHyps="p62">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p63"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with serviceRooms={restaurant,swimmingPool}" org.eventb.core.prHyps="p8">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p64" org.eventb.core.prInfHyps="p65"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p64"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with bedRooms={room1,room2,room3,room4}" org.eventb.core.prHyps="p11">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p66" org.eventb.core.prInfHyps="p67"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p54" org.eventb.core.prInfHyps="p68"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p55" org.eventb.core.prInfHyps="p69"/>
<org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p66,p54,p55"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with customers={roger,bob,john,doe}" org.eventb.core.prHyps="p12">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p30" org.eventb.core.prInfHyps="p70"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p50" org.eventb.core.prInfHyps="p71"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p30,p50"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with y=services∪{bed}" org.eventb.core.prGoal="p56" org.eventb.core.prHyps="p60">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p73">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p68" org.eventb.core.prInfHyps="p72"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p68"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p73" org.eventb.core.prHyps="p61"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p74">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p62"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p74" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p74">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p74" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p75,p76">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in hyp" org.eventb.core.prHyps="p5">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p76" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p77"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p77"/>
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p75" org.eventb.core.prHyps="p57" org.eventb.core.prInfHyps="p78"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p58" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p60"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p78" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p79"/>
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p79"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p75,p80">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in (unlock{cardid ↦ {services∪{bed}}})(x)" org.eventb.core.prHyps="p53">
<org.eventb.core.prAnte name="'" org.eventb.core.prHyps="p57,p59">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in hyp" org.eventb.core.prHyps="p5">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p80" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p81"/>
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p57" org.eventb.core.prHyps="p75" org.eventb.core.prInfHyps="p79"/>
<org.eventb.core.prRule name="r12" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p79"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prHyps="p75,p76">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in hyp" org.eventb.core.prHyps="p5">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p80" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p81"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in hyp" org.eventb.core.prHyps="p5">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p76" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p77"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p77"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="One Point Rule in ∀x,y,z·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y=bedRooms∧z=bedRooms⇒y=z)" org.eventb.core.prHyps="p25">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="One Point Rule in ∀x,z·x∈customers⇒(bedRooms∈unlock(x)∧z∈unlock(x)∧z=bedRooms⇒bedRooms=z)" org.eventb.core.prHyps="p62">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p63"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with serviceRooms={restaurant,swimmingPool}" org.eventb.core.prHyps="p8">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p64" org.eventb.core.prInfHyps="p65"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p64"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with bedRooms={room1,room2,room3,room4}" org.eventb.core.prHyps="p11">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p66" org.eventb.core.prInfHyps="p67"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p54" org.eventb.core.prInfHyps="p68"/>
<org.eventb.core.prHypAction name="FORWARD_INF2" org.eventb.core.prHyps="p55" org.eventb.core.prInfHyps="p69"/>
<org.eventb.core.prHypAction name="DESELECT3" org.eventb.core.prHyps="p66,p54,p55"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with customers={roger,bob,john,doe}" org.eventb.core.prHyps="p12">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p30" org.eventb.core.prInfHyps="p70"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p50" org.eventb.core.prInfHyps="p71"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p30,p50"/>
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with y={room1,room2,room3,room4}" org.eventb.core.prGoal="p56" org.eventb.core.prHyps="p68">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p83">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p81" org.eventb.core.prInfHyps="p82"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p81"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p83" org.eventb.core.prHyps="p69"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p74">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p62"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p74" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p74">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p74" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="bed" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="cardid" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="services" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="unlock" org.eventb.core.type="ℙ(CardIds×ℙ(ℙ(Rooms)))"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="∀x⦂CardIds·x∈customers∧x∈dom(reservation)∧(∀y⦂Reservations·y=reservation(x))⇒(∃y⦂Reservations·reservedServices(y)⊆unlock(x))">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="reservation" org.eventb.core.type="ℙ(CardIds×Reservations)"/>
<org.eventb.core.prIdent name="reservedServices" org.eventb.core.type="ℙ(Reservations×ℙ(ℙ(Rooms)))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="z∈(unlock{cardid ↦ {services∪{bed}}})(x)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="z" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="x∈{roger,bob,john,doe}">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="y∈unlock(x)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="y" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬cardid∈assigned">
<org.eventb.core.prIdent name="assigned" org.eventb.core.type="ℙ(CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="unlock∈CardIds → {{Rooms},∅ ⦂ ℙ(ℙ(Rooms))}"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀x⦂CardIds,y⦂ℙ(Rooms),z⦂ℙ(Rooms)·x∈customers⇒(y∈(unlock{cardid ↦ {services∪{bed}}})(x)∧z∈(unlock{cardid ↦ {services∪{bed}}})(x)∧y=bedRooms∧z=bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="z={room1,room2,room3,room4}">
<org.eventb.core.prIdent name="z" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="unusedBills⊆Bills">
<org.eventb.core.prIdent name="Bills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="unusedBills" org.eventb.core.type="ℙ(Bills)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}">
<org.eventb.core.prIdent name="Services" org.eventb.core.type="ℙ(Services)"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="x=cardid">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="y=services∪{bed}">
<org.eventb.core.prIdent name="y" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="z=bedRooms">
<org.eventb.core.prIdent name="z" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="officers={rosalind}">
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="services∪{bed}=z">
<org.eventb.core.prIdent name="z" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="∀x⦂Reservations·beginning(x)&lt;ending(x)">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="cardid∉assigned∧cardid∈customers">
<org.eventb.core.prIdent name="assigned" org.eventb.core.type="ℙ(CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="z∈{services∪{bed}}">
<org.eventb.core.prIdent name="z" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="cardid∈customers"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)">
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}">
<org.eventb.core.prIdent name="Bills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="officers⊆CardIds">
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀x⦂CardIds·x∈customers⇒(bedRooms∈unlock(x)∧bedRooms∈unlock(x)⇒bedRooms=bedRooms)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})">
<org.eventb.core.prIdent name="Services" org.eventb.core.type="ℙ(Services)"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="z∈unlock(x)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="z" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="partition(officers,{rosalind})">
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀x⦂Reservations·⊤⇒beginning(x)&lt;ending(x)">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="cardid∈{roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="¬⊤"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="services⊆serviceRooms"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="cleaners⊆CardIds">
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="services∪{bed}={room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="{room1,room2,room3,room4}=z">
<org.eventb.core.prIdent name="z" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="z=services∪{bed}">
<org.eventb.core.prIdent name="z" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="unusedReservations⊆Reservations">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="unusedReservations" org.eventb.core.type="ℙ(Reservations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="y=bedRooms">
<org.eventb.core.prIdent name="y" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="z∈({cardid} ⩤ unlock)(x)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="z" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="y∈(unlock{cardid ↦ {services∪{bed}}})(x)∧z∈(unlock{cardid ↦ {services∪{bed}}})(x)∧y=bedRooms∧z=bedRooms⇒y=z">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="y" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="z" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬unlocked=alwaysUnlocked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀x⦂Reservations·x∈Reservations⇒beginning(x)&lt;ending(x)">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})">
<org.eventb.core.prIdent name="Bills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="services⊆{restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="cleaners={michel}">
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="¬x=cardid">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="assigned⊆CardIds">
<org.eventb.core.prIdent name="assigned" org.eventb.core.type="ℙ(CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="bedRooms⊆Rooms"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀x⦂CardIds·∀y⦂ℙ(Rooms)·∀z⦂ℙ(Rooms)·x∈customers⇒(y∈(unlock{cardid ↦ {services∪{bed}}})(x)∧z∈(unlock{cardid ↦ {services∪{bed}}})(x)∧y∈{bedRooms}∧z∈{bedRooms}⇒y=z)"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬alwaysUnlocked=locked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)">
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∀x⦂CardIds,y⦂ℙ(Rooms),z⦂ℙ(Rooms)·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y=bedRooms∧z=bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀x⦂CardIds·∃y⦂Reservations·x∈customers∧x∈dom(reservation)∧y=reservation(x)⇒reservedServices(y)⊆unlock(x)">
<org.eventb.core.prIdent name="Reservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prIdent name="reservation" org.eventb.core.type="ℙ(CardIds×Reservations)"/>
<org.eventb.core.prIdent name="reservedServices" org.eventb.core.type="ℙ(Reservations×ℙ(ℙ(Rooms)))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀x⦂CardIds,z⦂ℙ(Rooms)·x∈customers⇒(bedRooms∈unlock(x)∧z∈unlock(x)∧z=bedRooms⇒bedRooms=z)"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="bed∈{room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="x∈customers⇒(y∈(unlock{cardid ↦ {services∪{bed}}})(x)∧z∈(unlock{cardid ↦ {services∪{bed}}})(x)∧y=bedRooms∧z=bedRooms⇒y=z)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="y" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="z" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="⊥"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="x∈customers">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="{room1,room2,room3,room4}∈unlock(x)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="partition(cleaners,{michel})">
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀x⦂CardIds·∀y⦂ℙ(Rooms)·∀z⦂ℙ(Rooms)·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y∈{bedRooms}∧z∈{bedRooms}⇒y=z)"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="y=z">
<org.eventb.core.prIdent name="y" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="z" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬locked=unlocked">
<org.eventb.core.prIdent name="State" org.eventb.core.type="ℙ(State)"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="y∈(unlock{cardid ↦ {services∪{bed}}})(x)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="y" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers">
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="bed∈bedRooms"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="y∈({cardid} ⩤ unlock)(x)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="y" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="y∈{services∪{bed}}">
<org.eventb.core.prIdent name="y" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}">
<org.eventb.core.prIdent name="Doors" org.eventb.core.type="ℙ(Doors)"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="y={room1,room2,room3,room4}">
<org.eventb.core.prIdent name="y" org.eventb.core.type="ℙ(Rooms)"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r12" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
<org.eventb.core.prReas name="r11" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL3"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.onePointRule:2"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.funOvr:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="payement/inv16/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="x" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50" org.eventb.core.prSets="Bills,CardIds,Doors,Reservations,Rooms,Services,State">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Rooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p66">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54,p55"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p56" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57,p58,p59"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p60"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p61"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p21" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64,p65"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p67"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p68"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p69"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p70"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p71"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p72"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p34" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p74"/>
<org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p75"/>
<org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p76"/>
<org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p77"/>
<org.eventb.core.prHypAction name="HIDE11" org.eventb.core.prHyps="p57"/>
<org.eventb.core.prHypAction name="HIDE12" org.eventb.core.prHyps="p58"/>
<org.eventb.core.prHypAction name="HIDE13" org.eventb.core.prHyps="p59"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p72" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p78"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p79"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p74" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p80"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees x)" org.eventb.core.prGoal="p66" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p81">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p81" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p85" org.eventb.core.prHyps="p82,p83,p84">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p85" org.eventb.core.prHyps="p3,p35,p15,p16,p26,p20,p8,p47,p5,p31,p14,p9,p36,p27,p2,p24,p11,p37,p44,p50,p42,p6,p22,p7,p45,p1,p32,p39,p46,p49,p33,p38,p29,p19,p48,p4,p25,p17,p51,p52,p53,p54,p55,p60,p61,p62,p63,p64,p65,p78,p79,p80,p82,p83,p84">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="assigned" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="bed" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="begin" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="bill" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="cardid" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="end" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="extraServices" org.eventb.core.type="ℙ(Bills×ℙ(Services))"/>
<org.eventb.core.prIdent name="getBill" org.eventb.core.type="ℙ(Reservations×Bills)"/>
<org.eventb.core.prIdent name="getCards" org.eventb.core.type="ℙ(Reservations×CardIds)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
<org.eventb.core.prIdent name="getState" org.eventb.core.type="ℙ(Doors×State)"/>
<org.eventb.core.prIdent name="isReserved" org.eventb.core.type="ℙ(Rooms×ℤ)"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="res" org.eventb.core.type="Reservations"/>
<org.eventb.core.prIdent name="reservation" org.eventb.core.type="ℙ(CardIds×Reservations)"/>
<org.eventb.core.prIdent name="reservedServices" org.eventb.core.type="ℙ(Reservations×ℙ(Rooms))"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="servedServices" org.eventb.core.type="ℙ(Rooms×ℙ(Services))"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="services" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="today" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="unlock" org.eventb.core.type="ℙ(CardIds×ℙ(Rooms))"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unusedBills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="unusedReservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀x⦂CardIds·x∈officers⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="finite(bedRooms)"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀x⦂CardIds·x∈customers∧x∈dom(reservation)∧(∀y⦂Reservations·y=reservation(x))⇒(∃y⦂Reservations·reservedServices(y)⊆unlock(x))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="cleaners∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="isReserved∈Rooms ⇸ ℤ"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="∃x⦂CardIds·officers={x}"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀x⦂CardIds·∃y⦂Reservations·x∈customers∧x∈dom(reservation{cardid ↦ res})∧y=(reservation{cardid ↦ res})(x)⇒(reservedServices{res ↦ services})(y)⊆(unlock{cardid ↦ services∪{bed}})(x)"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="today∈ℕ"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="¬cardid∈assigned"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="extraServices∈Bills ⇸ {Services}"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="unusedBills⊆Bills"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="unlock∈CardIds ⇸ {Rooms}"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="servedServices∈serviceRooms → {Services}"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="∀y⦂Reservations·y=(reservation{cardid ↦ res})(x)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="finite(cleaners)"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="∀x⦂Reservations·beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="card(cleaners)=1"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="getCards∈Reservations ⇸ customers"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="cardid∉assigned∧cardid∈customers"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="finite(customers)"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="cleaners∩officers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="cleaners∪customers∪officers=CardIds"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="bill∈unusedBills"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="cardid∈customers"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="isReserved(bed)=0"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="bedRooms∪serviceRooms=Rooms"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀x⦂CardIds·∀y⦂Rooms·∀z⦂Rooms·x∈customers⇒(unlock(x)={y}∧unlock(x)={z}∧y∈bedRooms∧z∈bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="getBill∈Reservations ⇸ Bills"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="reservation∈customers ⇸ Reservations"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="buyADrink∈Services∧massage∈Services∧buyFood∈Services"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="swimmingPool∈serviceRooms"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="begin&lt;end"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="bedRooms∩serviceRooms=(∅ ⦂ ℙ(Rooms))"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="card(bedRooms)=4"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="∀x⦂Reservations·⊤⇒beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="services⊆serviceRooms"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="partition(Rooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="card(customers)≥4"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="∃x⦂CardIds·cleaners={x}"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="unusedReservations⊆Reservations"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="getState∈Doors → State"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="begin∈ℕ"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀x⦂CardIds,y⦂Rooms,z⦂Rooms·x∈customers⇒(unlock(x)={y}∧unlock(x)={z}∧y∈bedRooms∧z∈bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="∀x⦂Reservations·x∈Reservations⇒beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="officers∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="x∈dom(reservation{cardid ↦ res})">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="finite(officers)"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="assigned⊆CardIds"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="bedRooms⊆Rooms"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="beginning∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="end∈ℕ"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="isReserved∈bedRooms → {0,1}"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="∀x⦂CardIds·∃y⦂Reservations·x∈customers∧x∈dom(reservation)∧y=reservation(x)⇒reservedServices(y)⊆unlock(x)"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="card(officers)=1"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="massage∈Services"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="Rooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="reservedServices∈Reservations ⇸ {serviceRooms}"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="restaurant∈serviceRooms∧swimmingPool∈serviceRooms"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="x∈customers∧x∈dom(reservation{cardid ↦ res})∧(∀y⦂Reservations·y=(reservation{cardid ↦ res})(x))⇒(∃y⦂Reservations·(reservedServices{res ↦ services})(y)⊆(unlock{cardid ↦ services∪{bed}})(x))">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="buyADrink∈Services"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="buyFood∈Services"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="x∈customers">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="ending∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="restaurant∈serviceRooms"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀x⦂CardIds·x∈cleaners⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="∃y⦂Reservations·(reservedServices{res ↦ services})(y)⊆(unlock{cardid ↦ services∪{bed}})(x)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="CardIds"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="res∈unusedReservations"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="getRoom∈Doors → Rooms"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="bed∈dom(isReserved)"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="bed∈bedRooms"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="occupied∈Rooms ⇸ {CardIds}"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="∀x⦂CardIds·x∈customers∧x∈dom(reservation{cardid ↦ res})∧(∀y⦂Reservations·y=(reservation{cardid ↦ res})(x))⇒(∃y⦂Reservations·(reservedServices{res ↦ services})(y)⊆(unlock{cardid ↦ services∪{bed}})(x))"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/inv24/INV"/>
<org.eventb.core.prProof name="payement/inv18/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49" org.eventb.core.prSets="Bills,CardIds,Doors,Reservations,Rooms,Services,State">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p54"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p55"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p56"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p57"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p58"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59,p60,p61"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64,p65"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p66"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p67"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p68"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p69"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p70"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p71"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p72"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p74"/>
<org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p75"/>
<org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p76"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p77"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p72" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p78"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p79"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with serviceRooms={restaurant,swimmingPool}" org.eventb.core.prHyps="p51">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p80"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with bedRooms={room1,room2,room3,room4}" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p53">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p83">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p37" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p46" org.eventb.core.prInfHyps="p82"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p37,p46"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with customers={roger,bob,john,doe}" org.eventb.core.prHyps="p54">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p65" org.eventb.core.prInfHyps="p84"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p65"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p83" org.eventb.core.prHyps="p2,p31,p12,p13,p22,p17,p8,p43,p5,p40,p32,p9,p34,p38,p48,p18,p49,p19,p47,p39,p1,p27,p37,p42,p46,p28,p35,p25,p16,p45,p3,p21,p14,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p77,p78,p79,p80,p81,p82,p84">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="assigned" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="bed" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="begin" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="bill" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="cardid" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="end" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="extraServices" org.eventb.core.type="ℙ(Bills×ℙ(Services))"/>
<org.eventb.core.prIdent name="getBill" org.eventb.core.type="ℙ(Reservations×Bills)"/>
<org.eventb.core.prIdent name="getCards" org.eventb.core.type="ℙ(Reservations×CardIds)"/>
<org.eventb.core.prIdent name="getReservation" org.eventb.core.type="ℙ(CardIds×Reservations)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
<org.eventb.core.prIdent name="getState" org.eventb.core.type="ℙ(Doors×State)"/>
<org.eventb.core.prIdent name="isReserved" org.eventb.core.type="ℙ(Rooms×ℤ)"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="res" org.eventb.core.type="Reservations"/>
<org.eventb.core.prIdent name="reservedServices" org.eventb.core.type="ℙ(Reservations×ℙ(Rooms))"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="servedServices" org.eventb.core.type="ℙ(Rooms×ℙ(Services))"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="services" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="today" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="unlock" org.eventb.core.type="ℙ(CardIds×ℙ(Rooms))"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unusedBills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="unusedReservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀x⦂CardIds·x∈officers⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="cleaners∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="isReserved{bed ↦ 1}∈{room1,room2,room3,room4} → {0,1}"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="isReserved∈Rooms ⇸ ℤ"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="isReserved∈{room1,room2,room3,room4} → {0,1}"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="today∈ℕ"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="¬cardid∈assigned"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="unusedBills⊆Bills"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀x⦂CardIds·∀y⦂Rooms·∀z⦂Rooms·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y∈bedRooms∧z∈bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="servedServices∈serviceRooms → {Services}"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="∀x⦂Reservations·beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="getCards∈Reservations ⇸ customers"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="cardid∉assigned∧cardid∈customers"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="cleaners∩officers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="cleaners∪customers∪officers=CardIds"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="bill∈unusedBills"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="cardid∈customers"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="isReserved(bed)=0"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="bedRooms∪serviceRooms=Rooms"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="reservedServices∈Reservations ⇸ ℙ(serviceRooms)"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="getBill∈Reservations ⇸ Bills"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="begin&lt;end"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="bedRooms∩serviceRooms=(∅ ⦂ ℙ(Rooms))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="∀x⦂Reservations·⊤⇒beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="cardid∈{roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="services⊆serviceRooms"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀x⦂CardIds·∃y⦂Reservations·x∈customers∧x∈dom(getReservation)∧y=getReservation(x)⇒reservedServices(y)⊆unlock(x)"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="unusedReservations⊆Reservations"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="getState∈Doors → State"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="begin∈ℕ"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬unlocked=alwaysUnlocked"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="isReserved{bed ↦ 1}∈bedRooms → {0,1}"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀x⦂Reservations·x∈Reservations⇒beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀x⦂CardIds,y⦂Rooms,z⦂Rooms·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y∈bedRooms∧z∈bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="services⊆{restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="officers∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="getReservation∈customers ⇸ Reservations"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="assigned⊆CardIds"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="bedRooms⊆Rooms"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="beginning∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="end∈ℕ"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬alwaysUnlocked=locked"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="isReserved∈bedRooms → {0,1}"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀x⦂CardIds·x∈customers∧x∈dom(getReservation)∧(∀y⦂Reservations·y=getReservation(x))⇒(∃y⦂Reservations·reservedServices(y)⊆unlock(x))"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="bed∈{room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="ending∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀x⦂CardIds·x∈cleaners⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="today=2021"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="res∈unusedReservations"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="getRoom∈Doors → Rooms"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="¬locked=unlocked"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="bed∈dom(isReserved)"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="bed∈bedRooms"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="unlock∈CardIds → ℙ(Rooms)"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="occupied∈Rooms ⇸ {CardIds}"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="extraServices∈Bills ⇸ ℙ(Services)"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="payement/inv8/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49" org.eventb.core.prSets="Bills,CardIds,Doors,Reservations,Rooms,Services,State">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(State,{locked,unlocked,alwaysUnlocked}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(serviceRooms,{restaurant,swimmingPool}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p33" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Services,{buyADrink,massage,buyFood}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(bedRooms,{room1,room2,room3,room4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(customers,{roger,bob,john,doe}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p54"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(officers,{rosalind}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p24" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p55"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(cleaners,{michel}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p56"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Bills,{bill1,bill2,bill3,bill4}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p57"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(Doors,{door1,door2,door3,door4,door5,door6}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p36" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p58"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59,p60,p61"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64,p65"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p66"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p67"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p68"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p69"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p70"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p71"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p72"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p15" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prHypAction name="HIDE8" org.eventb.core.prHyps="p74"/>
<org.eventb.core.prHypAction name="HIDE9" org.eventb.core.prHyps="p75"/>
<org.eventb.core.prHypAction name="HIDE10" org.eventb.core.prHyps="p76"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p77"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p72" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p78"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p79"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with serviceRooms={restaurant,swimmingPool}" org.eventb.core.prHyps="p51">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p25" org.eventb.core.prInfHyps="p80"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p25"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with bedRooms={room1,room2,room3,room4}" org.eventb.core.prHyps="p53">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p46" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with customers={roger,bob,john,doe}" org.eventb.core.prHyps="p54">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p65" org.eventb.core.prInfHyps="p82"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p65"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p2,p31,p12,p13,p22,p17,p8,p43,p5,p40,p32,p9,p34,p38,p48,p18,p49,p19,p47,p39,p1,p27,p37,p42,p46,p28,p35,p25,p16,p45,p3,p21,p14,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p77,p78,p79,p80,p81,p82">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="alwaysUnlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="assigned" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="bed" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="bedRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="begin" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="beginning" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="bill" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill1" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill2" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill3" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bill4" org.eventb.core.type="Bills"/>
<org.eventb.core.prIdent name="bob" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="buyADrink" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="buyFood" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="cardid" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="cleaners" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="customers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="doe" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="door1" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door2" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door3" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door4" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door5" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="door6" org.eventb.core.type="Doors"/>
<org.eventb.core.prIdent name="end" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="ending" org.eventb.core.type="ℙ(Reservations×ℤ)"/>
<org.eventb.core.prIdent name="extraServices" org.eventb.core.type="ℙ(Bills×ℙ(Services))"/>
<org.eventb.core.prIdent name="getBill" org.eventb.core.type="ℙ(Reservations×Bills)"/>
<org.eventb.core.prIdent name="getCards" org.eventb.core.type="ℙ(Reservations×CardIds)"/>
<org.eventb.core.prIdent name="getReservation" org.eventb.core.type="ℙ(CardIds×Reservations)"/>
<org.eventb.core.prIdent name="getRoom" org.eventb.core.type="ℙ(Doors×Rooms)"/>
<org.eventb.core.prIdent name="getState" org.eventb.core.type="ℙ(Doors×State)"/>
<org.eventb.core.prIdent name="isReserved" org.eventb.core.type="ℙ(Rooms×ℤ)"/>
<org.eventb.core.prIdent name="john" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="locked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="massage" org.eventb.core.type="Services"/>
<org.eventb.core.prIdent name="michel" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="occupied" org.eventb.core.type="ℙ(Rooms×ℙ(CardIds))"/>
<org.eventb.core.prIdent name="officers" org.eventb.core.type="ℙ(CardIds)"/>
<org.eventb.core.prIdent name="res" org.eventb.core.type="Reservations"/>
<org.eventb.core.prIdent name="reservedServices" org.eventb.core.type="ℙ(Reservations×ℙ(Rooms))"/>
<org.eventb.core.prIdent name="restaurant" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="roger" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="room1" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room2" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room3" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="room4" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="rosalind" org.eventb.core.type="CardIds"/>
<org.eventb.core.prIdent name="servedServices" org.eventb.core.type="ℙ(Rooms×ℙ(Services))"/>
<org.eventb.core.prIdent name="serviceRooms" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="services" org.eventb.core.type="ℙ(Rooms)"/>
<org.eventb.core.prIdent name="swimmingPool" org.eventb.core.type="Rooms"/>
<org.eventb.core.prIdent name="today" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="unlock" org.eventb.core.type="ℙ(CardIds×ℙ(Rooms))"/>
<org.eventb.core.prIdent name="unlocked" org.eventb.core.type="State"/>
<org.eventb.core.prIdent name="unusedBills" org.eventb.core.type="ℙ(Bills)"/>
<org.eventb.core.prIdent name="unusedReservations" org.eventb.core.type="ℙ(Reservations)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀x⦂CardIds·x∈officers⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="cleaners∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="isReserved∈Rooms ⇸ ℤ"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="locked≠unlocked∧unlocked≠alwaysUnlocked∧alwaysUnlocked≠locked"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="today∈ℕ"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="¬cardid∈assigned"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="unusedBills⊆Bills"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="Services={buyADrink,massage,buyFood}"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀x⦂CardIds·∀y⦂Rooms·∀z⦂Rooms·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y∈bedRooms∧z∈bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="partition(customers,{roger,bob,john,doe})"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="extraServices{bill ↦ (∅ ⦂ ℙ(Services))}∈Bills ⇸ ℙ(Services)"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="State={locked,unlocked,alwaysUnlocked}"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="servedServices∈serviceRooms → {Services}"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="officers={rosalind}"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="∀x⦂Reservations·beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="getCards∈Reservations ⇸ customers"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="cardid∉assigned∧cardid∈customers"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∃y⦂Doors·y∈Doors∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="cleaners∩officers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="cleaners∪customers∪officers=CardIds"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="bill∈unusedBills"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="∀x⦂Rooms·x∈Rooms⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="cardid∈customers"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="isReserved(bed)=0"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="bedRooms∪serviceRooms=Rooms"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="reservedServices∈Reservations ⇸ ℙ(serviceRooms)"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="Bills={bill1,bill2,bill3,bill4}"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="officers⊆CardIds"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="getBill∈Reservations ⇸ Bills"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(Services,{buyADrink,massage,buyFood})"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="customers={roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="begin&lt;end"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="bedRooms∩serviceRooms=(∅ ⦂ ℙ(Rooms))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="partition(State,{locked,unlocked,alwaysUnlocked})"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="customers⊆CardIds"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="partition(officers,{rosalind})"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="∀x⦂Reservations·⊤⇒beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="cardid∈{roger,bob,john,doe}"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="services⊆serviceRooms"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀x⦂CardIds·∃y⦂Reservations·x∈customers∧x∈dom(getReservation)∧y=getReservation(x)⇒reservedServices(y)⊆unlock(x)"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="cleaners⊆CardIds"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="unusedReservations⊆Reservations"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="getState∈Doors → State"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="begin∈ℕ"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬unlocked=alwaysUnlocked"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="∀x⦂Reservations·x∈Reservations⇒beginning(x)&lt;ending(x)"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="∀x⦂CardIds,y⦂Rooms,z⦂Rooms·x∈customers⇒(y∈unlock(x)∧z∈unlock(x)∧y∈bedRooms∧z∈bedRooms⇒y=z)"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="partition(Bills,{bill1,bill2,bill3,bill4})"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="services⊆{restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="officers∩customers=(∅ ⦂ ℙ(CardIds))"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="cleaners={michel}"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="getReservation∈customers ⇸ Reservations"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="partition(serviceRooms,{restaurant,swimmingPool})"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="bedRooms={room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="assigned⊆CardIds"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="bedRooms⊆Rooms"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="beginning∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="end∈ℕ"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∃y⦂Doors·⊤∧getRoom(y)=x)"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬alwaysUnlocked=locked"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="partition(Doors,{door1,door2,door3,door4,door5,door6})"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="∀x⦂Rooms·⊤⇒(∀y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers)"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="isReserved∈bedRooms → {0,1}"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="∀x⦂CardIds·x∈customers∧x∈dom(getReservation)∧(∀y⦂Reservations·y=getReservation(x))⇒(∃y⦂Reservations·reservedServices(y)⊆unlock(x))"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="bed∈{room1,room2,room3,room4}"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="ending∈Reservations ⇸ ℕ"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="∀x⦂CardIds·x∈cleaners⇒unlock(x)=Rooms"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="today=2021"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="∀x⦂Rooms·∃y⦂Doors·getRoom(y)=x"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="partition(cleaners,{michel})"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="res∈unusedReservations"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="serviceRooms={restaurant,swimmingPool}"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="getRoom∈Doors → Rooms"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="¬locked=unlocked"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="partition(bedRooms,{room1,room2,room3,room4})"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="∀x⦂Rooms,y⦂CardIds·y∈occupied(x)⇒y∈cleaners∨y∈officers∪customers"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="bed∈dom(isReserved)"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="bed∈bedRooms"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="unlock∈CardIds → ℙ(Rooms)"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="occupied∈Rooms ⇸ {CardIds}"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="serviceRooms⊆Rooms"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="extraServices∈Bills ⇸ ℙ(Services)"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="Doors={door1,door2,door3,door4,door5,door6}"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
</org.eventb.core.prFile>
